{"ast":null,"code":"import produce from\"immer\";import{ActionType}from\"../action-types\";var initialState={};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;return produce(state,function(draft){switch(action.type){case ActionType.BUNDLE_START:// id of code cell to bundle\ndraft[action.payload.id]={loading:true,code:\"\",err:\"\"};return draft;case ActionType.BUNDLE_COMPLETE:draft[action.payload.id]={loading:false,code:action.payload.bundle.code,err:action.payload.bundle.err};return draft;default:return draft;}});};export default reducer;","map":{"version":3,"sources":["C:/Users/Ryzen/Desktop/jbook/packages/local-client/src/state/reducers/bundlesReducer.ts"],"names":["produce","ActionType","initialState","reducer","state","action","draft","type","BUNDLE_START","payload","id","loading","code","err","BUNDLE_COMPLETE","bundle"],"mappings":"AAAA,MAAOA,CAAAA,OAAP,KAAoB,OAApB,CACA,OAASC,UAAT,KAA2B,iBAA3B,CAaA,GAAMC,CAAAA,YAA0B,CAAG,EAAnC,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAsE,IAArEC,CAAAA,KAAqE,2DAA/CF,YAA+C,IAAjCG,CAAAA,MAAiC,2CACrF,MAAOL,CAAAA,OAAO,CAACI,KAAD,CAAQ,SAACE,KAAD,CAAW,CAChC,OAAQD,MAAM,CAACE,IAAf,EACC,IAAKN,CAAAA,UAAU,CAACO,YAAhB,CACC;AACAF,KAAK,CAACD,MAAM,CAACI,OAAP,CAAeC,EAAhB,CAAL,CAA2B,CAC1BC,OAAO,CAAE,IADiB,CAE1BC,IAAI,CAAE,EAFoB,CAG1BC,GAAG,CAAE,EAHqB,CAA3B,CAKA,MAAOP,CAAAA,KAAP,CAED,IAAKL,CAAAA,UAAU,CAACa,eAAhB,CACCR,KAAK,CAACD,MAAM,CAACI,OAAP,CAAeC,EAAhB,CAAL,CAA2B,CAC1BC,OAAO,CAAE,KADiB,CAE1BC,IAAI,CAAEP,MAAM,CAACI,OAAP,CAAeM,MAAf,CAAsBH,IAFF,CAG1BC,GAAG,CAAER,MAAM,CAACI,OAAP,CAAeM,MAAf,CAAsBF,GAHD,CAA3B,CAKA,MAAOP,CAAAA,KAAP,CAED,QACC,MAAOA,CAAAA,KAAP,CAnBF,CAqBA,CAtBa,CAAd,CAuBA,CAxBD,CA0BA,cAAeH,CAAAA,OAAf","sourcesContent":["import produce from \"immer\";\r\nimport { ActionType } from \"../action-types\";\r\nimport { Action } from \"../actions\";\r\n\r\ninterface BundlesState {\r\n\t[key: string]:\r\n\t\t| {\r\n\t\t\t\tloading: boolean;\r\n\t\t\t\tcode: string;\r\n\t\t\t\terr: string;\r\n\t\t\t}\r\n\t\t| undefined; // this is because, initially when a code cell is loaded up, there is no content inside which results in the createBundle action returning bundle as undefined, which in turn results in an error when previewing bundle.code beside the code cell\r\n}\r\n\r\nconst initialState: BundlesState = {};\r\n\r\nconst reducer = (state: BundlesState = initialState, action: Action): BundlesState => {\r\n\treturn produce(state, (draft) => {\r\n\t\tswitch (action.type) {\r\n\t\t\tcase ActionType.BUNDLE_START:\r\n\t\t\t\t// id of code cell to bundle\r\n\t\t\t\tdraft[action.payload.id] = {\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tcode: \"\",\r\n\t\t\t\t\terr: \"\"\r\n\t\t\t\t};\r\n\t\t\t\treturn draft;\r\n\r\n\t\t\tcase ActionType.BUNDLE_COMPLETE:\r\n\t\t\t\tdraft[action.payload.id] = {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tcode: action.payload.bundle.code,\r\n\t\t\t\t\terr: action.payload.bundle.err\r\n\t\t\t\t};\r\n\t\t\t\treturn draft;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn draft;\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}