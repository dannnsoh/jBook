{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ryzen\\\\Desktop\\\\jbook\\\\src\\\\components\\\\code-editor.tsx\",\n    _s = $RefreshSig$();\n\nimport \"./code-editor.css\";\nimport { useRef } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport prettier from \"prettier\";\nimport parser from \"prettier/parser-babel\";\nimport { Button, Icon } from \"semantic-ui-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CodeEditor = _ref => {\n  _s();\n\n  let {\n    initialValue,\n    onChange\n  } = _ref;\n  const editorRef = useRef(null);\n\n  const onEditorMount = (editor, monaco) => {\n    editorRef.current = editor;\n    editor.onDidChangeModelContent(() => {\n      onChange(editor.getValue());\n    });\n  };\n\n  const onFormatClick = () => {\n    // get current value from editor instance\n    const unformatted = editorRef.current.getValue(); // format that value\n\n    const formatted = prettier.format(unformatted, {\n      parser: \"babel\",\n      plugins: [parser],\n      useTabs: true,\n      semi: true\n    }) // remove new line added by prettier\n    .replace(/\\n$/, \"\"); // set formatted value back into the editor\n\n    editorRef.current.setValue(formatted);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      icon: true,\n      animated: \"fade\",\n      size: \"tiny\",\n      labelPosition: \"right\",\n      className: \"button-format\",\n      onClick: onFormatClick,\n      children: [/*#__PURE__*/_jsxDEV(Button.Content, {\n        visible: true,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          name: \"paint brush\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button.Content, {\n        hidden: true,\n        children: \"Format\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Editor, {\n      onMount: onEditorMount,\n      value: initialValue,\n      theme: \"vs-dark\",\n      language: \"javascript\",\n      height: \"50vh\",\n      options: {\n        wordWrap: \"on\",\n        minimap: {\n          enabled: false\n        },\n        showUnused: false,\n        folding: false,\n        lineNumbersMinChars: 3,\n        fontSize: 16,\n        scrollBeyondLastLine: false,\n        automaticLayout: true\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n};\n\n_s(CodeEditor, \"U23Mj2fZUVBkuOSyNtK9IkK2H0s=\");\n\n_c = CodeEditor;\nexport default CodeEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"sources":["C:/Users/Ryzen/Desktop/jbook/src/components/code-editor.tsx"],"names":["useRef","Editor","prettier","parser","Button","Icon","CodeEditor","initialValue","onChange","editorRef","onEditorMount","editor","monaco","current","onDidChangeModelContent","getValue","onFormatClick","unformatted","formatted","format","plugins","useTabs","semi","replace","setValue","wordWrap","minimap","enabled","showUnused","folding","lineNumbersMinChars","fontSize","scrollBeyondLastLine","automaticLayout"],"mappings":";;;AAAA,OAAO,mBAAP;AACA,SAASA,MAAT,QAAuB,OAAvB;AACA,OAAOC,MAAP,MAAgC,sBAAhC;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,mBAA7B;;;AAOA,MAAMC,UAAU,GAAG,QAA6C;AAAA;;AAAA,MAA5C;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,GAA4C;AAC/D,QAAMC,SAAS,GAAGT,MAAM,CAAM,IAAN,CAAxB;;AAEA,QAAMU,aAAsB,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB;AAClDH,IAAAA,SAAS,CAACI,OAAV,GAAoBF,MAApB;AACAA,IAAAA,MAAM,CAACG,uBAAP,CAA+B,MAAM;AACpCN,MAAAA,QAAQ,CAACG,MAAM,CAACI,QAAP,EAAD,CAAR;AACA,KAFD;AAGA,GALD;;AAOA,QAAMC,aAAa,GAAG,MAAM;AAC3B;AACA,UAAMC,WAAW,GAAGR,SAAS,CAACI,OAAV,CAAkBE,QAAlB,EAApB,CAF2B,CAG3B;;AACA,UAAMG,SAAS,GAAGhB,QAAQ,CACxBiB,MADgB,CACTF,WADS,EACI;AACpBd,MAAAA,MAAM,EAAE,OADY;AAEpBiB,MAAAA,OAAO,EAAE,CAAEjB,MAAF,CAFW;AAGpBkB,MAAAA,OAAO,EAAE,IAHW;AAIpBC,MAAAA,IAAI,EAAE;AAJc,KADJ,EAOjB;AAPiB,KAQhBC,OARgB,CAQR,KARQ,EAQD,EARC,CAAlB,CAJ2B,CAa3B;;AACAd,IAAAA,SAAS,CAACI,OAAV,CAAkBW,QAAlB,CAA2BN,SAA3B;AACA,GAfD;;AAiBA,sBACC;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACC,QAAC,MAAD;AACC,MAAA,IAAI,MADL;AAEC,MAAA,QAAQ,EAAC,MAFV;AAGC,MAAA,IAAI,EAAC,MAHN;AAIC,MAAA,aAAa,EAAC,OAJf;AAKC,MAAA,SAAS,EAAC,eALX;AAMC,MAAA,OAAO,EAAEF,aANV;AAAA,8BAQC,QAAC,MAAD,CAAQ,OAAR;AAAgB,QAAA,OAAO,MAAvB;AAAA,+BACC,QAAC,IAAD;AAAM,UAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cARD,eAWC,QAAC,MAAD,CAAQ,OAAR;AAAgB,QAAA,MAAM,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAcC,QAAC,MAAD;AACC,MAAA,OAAO,EAAEN,aADV;AAEC,MAAA,KAAK,EAAEH,YAFR;AAGC,MAAA,KAAK,EAAC,SAHP;AAIC,MAAA,QAAQ,EAAC,YAJV;AAKC,MAAA,MAAM,EAAC,MALR;AAMC,MAAA,OAAO,EAAE;AACRkB,QAAAA,QAAQ,EAAE,IADF;AAERC,QAAAA,OAAO,EACN;AACCC,UAAAA,OAAO,EAAE;AADV,SAHO;AAMRC,QAAAA,UAAU,EAAE,KANJ;AAORC,QAAAA,OAAO,EAAE,KAPD;AAQRC,QAAAA,mBAAmB,EAAE,CARb;AASRC,QAAAA,QAAQ,EAAE,EATF;AAURC,QAAAA,oBAAoB,EAAE,KAVd;AAWRC,QAAAA,eAAe,EAAE;AAXT;AANV;AAAA;AAAA;AAAA;AAAA,YAdD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAqCA,CAhED;;GAAM3B,U;;KAAAA,U;AAkEN,eAAeA,UAAf","sourcesContent":["import \"./code-editor.css\";\r\nimport { useRef } from \"react\";\r\nimport Editor, { OnMount } from \"@monaco-editor/react\";\r\nimport prettier from \"prettier\";\r\nimport parser from \"prettier/parser-babel\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\ninterface EditorProps {\r\n\tinitialValue: string;\r\n\tonChange(value: string): void;\r\n}\r\n\r\nconst CodeEditor = ({ initialValue, onChange }: EditorProps) => {\r\n\tconst editorRef = useRef<any>(null);\r\n\r\n\tconst onEditorMount: OnMount = (editor, monaco) => {\r\n\t\teditorRef.current = editor;\r\n\t\teditor.onDidChangeModelContent(() => {\r\n\t\t\tonChange(editor.getValue());\r\n\t\t});\r\n\t};\r\n\r\n\tconst onFormatClick = () => {\r\n\t\t// get current value from editor instance\r\n\t\tconst unformatted = editorRef.current.getValue();\r\n\t\t// format that value\r\n\t\tconst formatted = prettier\r\n\t\t\t.format(unformatted, {\r\n\t\t\t\tparser: \"babel\",\r\n\t\t\t\tplugins: [ parser ],\r\n\t\t\t\tuseTabs: true,\r\n\t\t\t\tsemi: true\r\n\t\t\t})\r\n\t\t\t// remove new line added by prettier\r\n\t\t\t.replace(/\\n$/, \"\");\r\n\t\t// set formatted value back into the editor\r\n\t\teditorRef.current.setValue(formatted);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"editor-wrapper\">\r\n\t\t\t<Button\r\n\t\t\t\ticon\r\n\t\t\t\tanimated=\"fade\"\r\n\t\t\t\tsize=\"tiny\"\r\n\t\t\t\tlabelPosition=\"right\"\r\n\t\t\t\tclassName=\"button-format\"\r\n\t\t\t\tonClick={onFormatClick}\r\n\t\t\t>\r\n\t\t\t\t<Button.Content visible>\r\n\t\t\t\t\t<Icon name=\"paint brush\" />\r\n\t\t\t\t</Button.Content>\r\n\t\t\t\t<Button.Content hidden>Format</Button.Content>\r\n\t\t\t</Button>\r\n\t\t\t<Editor\r\n\t\t\t\tonMount={onEditorMount}\r\n\t\t\t\tvalue={initialValue}\r\n\t\t\t\ttheme=\"vs-dark\"\r\n\t\t\t\tlanguage=\"javascript\"\r\n\t\t\t\theight=\"50vh\"\r\n\t\t\t\toptions={{\r\n\t\t\t\t\twordWrap: \"on\",\r\n\t\t\t\t\tminimap:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tenabled: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\tshowUnused: false,\r\n\t\t\t\t\tfolding: false,\r\n\t\t\t\t\tlineNumbersMinChars: 3,\r\n\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\tscrollBeyondLastLine: false,\r\n\t\t\t\t\tautomaticLayout: true\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CodeEditor;\r\n"]},"metadata":{},"sourceType":"module"}