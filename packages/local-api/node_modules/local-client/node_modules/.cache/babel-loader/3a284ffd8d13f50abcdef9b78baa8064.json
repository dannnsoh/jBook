{"ast":null,"code":"var _toConsumableArray = require(\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _regeneratorRuntime = require(\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _slicedToArray = require(\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _createForOfIteratorHelper = require(\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\n(function (exports) {\n  var __defProp = Object.defineProperty;\n  var __defProps = Object.defineProperties;\n  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;\n  var __getOwnPropSymbols = Object.getOwnPropertySymbols;\n  var __hasOwnProp = Object.prototype.hasOwnProperty;\n  var __propIsEnum = Object.prototype.propertyIsEnumerable;\n\n  var __defNormalProp = function __defNormalProp(obj, key, value) {\n    return key in obj ? __defProp(obj, key, {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: value\n    }) : obj[key] = value;\n  };\n\n  var __spreadValues = function __spreadValues(a, b) {\n    for (var prop in b || (b = {})) {\n      if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    }\n\n    if (__getOwnPropSymbols) {\n      var _iterator = _createForOfIteratorHelper(__getOwnPropSymbols(b)),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var prop = _step.value;\n          if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    return a;\n  };\n\n  var __spreadProps = function __spreadProps(a, b) {\n    return __defProps(a, __getOwnPropDescs(b));\n  };\n\n  var __markAsModule = function __markAsModule(target) {\n    return __defProp(target, \"__esModule\", {\n      value: true\n    });\n  };\n\n  var __export = function __export(target, all) {\n    __markAsModule(target);\n\n    for (var name in all) {\n      __defProp(target, name, {\n        get: all[name],\n        enumerable: true\n      });\n    }\n  };\n\n  var __async = function __async(__this, __arguments, generator) {\n    return new Promise(function (resolve, reject) {\n      var fulfilled = function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      };\n\n      var rejected = function rejected(value) {\n        try {\n          step(generator.throw(value));\n        } catch (e) {\n          reject(e);\n        }\n      };\n\n      var step = function step(x) {\n        return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n      };\n\n      step((generator = generator.apply(__this, __arguments)).next());\n    });\n  }; // lib/npm/browser.ts\n\n\n  __export(exports, {\n    analyzeMetafile: function analyzeMetafile() {\n      return _analyzeMetafile;\n    },\n    analyzeMetafileSync: function analyzeMetafileSync() {\n      return _analyzeMetafileSync;\n    },\n    build: function build() {\n      return _build;\n    },\n    buildSync: function buildSync() {\n      return _buildSync;\n    },\n    formatMessages: function formatMessages() {\n      return _formatMessages;\n    },\n    formatMessagesSync: function formatMessagesSync() {\n      return _formatMessagesSync;\n    },\n    initialize: function initialize() {\n      return _initialize;\n    },\n    serve: function serve() {\n      return _serve;\n    },\n    transform: function transform() {\n      return _transform;\n    },\n    transformSync: function transformSync() {\n      return _transformSync;\n    },\n    version: function version() {\n      return _version;\n    }\n  }); // lib/shared/stdio_protocol.ts\n\n\n  function encodePacket(packet) {\n    var visit = function visit(value) {\n      if (value === null) {\n        bb.write8(0);\n      } else if (typeof value === \"boolean\") {\n        bb.write8(1);\n        bb.write8(+value);\n      } else if (typeof value === \"number\") {\n        bb.write8(2);\n        bb.write32(value | 0);\n      } else if (typeof value === \"string\") {\n        bb.write8(3);\n        bb.write(encodeUTF8(value));\n      } else if (value instanceof Uint8Array) {\n        bb.write8(4);\n        bb.write(value);\n      } else if (value instanceof Array) {\n        bb.write8(5);\n        bb.write32(value.length);\n\n        var _iterator2 = _createForOfIteratorHelper(value),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var item = _step2.value;\n            visit(item);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } else {\n        var keys = Object.keys(value);\n        bb.write8(6);\n        bb.write32(keys.length);\n\n        for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n          var key = _keys[_i];\n          bb.write(encodeUTF8(key));\n          visit(value[key]);\n        }\n      }\n    };\n\n    var bb = new ByteBuffer();\n    bb.write32(0);\n    bb.write32(packet.id << 1 | +!packet.isRequest);\n    visit(packet.value);\n    writeUInt32LE(bb.buf, bb.len - 4, 0);\n    return bb.buf.subarray(0, bb.len);\n  }\n\n  function decodePacket(bytes) {\n    var visit = function visit() {\n      switch (bb.read8()) {\n        case 0:\n          return null;\n\n        case 1:\n          return !!bb.read8();\n\n        case 2:\n          return bb.read32();\n\n        case 3:\n          return decodeUTF8(bb.read());\n\n        case 4:\n          return bb.read();\n\n        case 5:\n          {\n            var count = bb.read32();\n            var value2 = [];\n\n            for (var i = 0; i < count; i++) {\n              value2.push(visit());\n            }\n\n            return value2;\n          }\n\n        case 6:\n          {\n            var _count = bb.read32();\n\n            var _value = {};\n\n            for (var _i2 = 0; _i2 < _count; _i2++) {\n              _value[decodeUTF8(bb.read())] = visit();\n            }\n\n            return _value;\n          }\n\n        default:\n          throw new Error(\"Invalid packet\");\n      }\n    };\n\n    var bb = new ByteBuffer(bytes);\n    var id = bb.read32();\n    var isRequest = (id & 1) === 0;\n    id >>>= 1;\n    var value = visit();\n\n    if (bb.ptr !== bytes.length) {\n      throw new Error(\"Invalid packet\");\n    }\n\n    return {\n      id: id,\n      isRequest: isRequest,\n      value: value\n    };\n  }\n\n  var ByteBuffer = /*#__PURE__*/function () {\n    \"use strict\";\n\n    function ByteBuffer() {\n      var buf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Uint8Array(1024);\n\n      _classCallCheck(this, ByteBuffer);\n\n      this.buf = buf;\n      this.len = 0;\n      this.ptr = 0;\n    }\n\n    _createClass(ByteBuffer, [{\n      key: \"_write\",\n      value: function _write(delta) {\n        if (this.len + delta > this.buf.length) {\n          var clone = new Uint8Array((this.len + delta) * 2);\n          clone.set(this.buf);\n          this.buf = clone;\n        }\n\n        this.len += delta;\n        return this.len - delta;\n      }\n    }, {\n      key: \"write8\",\n      value: function write8(value) {\n        var offset = this._write(1);\n\n        this.buf[offset] = value;\n      }\n    }, {\n      key: \"write32\",\n      value: function write32(value) {\n        var offset = this._write(4);\n\n        writeUInt32LE(this.buf, value, offset);\n      }\n    }, {\n      key: \"write\",\n      value: function write(bytes) {\n        var offset = this._write(4 + bytes.length);\n\n        writeUInt32LE(this.buf, bytes.length, offset);\n        this.buf.set(bytes, offset + 4);\n      }\n    }, {\n      key: \"_read\",\n      value: function _read(delta) {\n        if (this.ptr + delta > this.buf.length) {\n          throw new Error(\"Invalid packet\");\n        }\n\n        this.ptr += delta;\n        return this.ptr - delta;\n      }\n    }, {\n      key: \"read8\",\n      value: function read8() {\n        return this.buf[this._read(1)];\n      }\n    }, {\n      key: \"read32\",\n      value: function read32() {\n        return readUInt32LE(this.buf, this._read(4));\n      }\n    }, {\n      key: \"read\",\n      value: function read() {\n        var length = this.read32();\n        var bytes = new Uint8Array(length);\n\n        var ptr = this._read(bytes.length);\n\n        bytes.set(this.buf.subarray(ptr, ptr + length));\n        return bytes;\n      }\n    }]);\n\n    return ByteBuffer;\n  }();\n\n  var encodeUTF8;\n  var decodeUTF8;\n\n  if (typeof TextEncoder !== \"undefined\" && typeof TextDecoder !== \"undefined\") {\n    var encoder = new TextEncoder();\n    var decoder = new TextDecoder();\n\n    encodeUTF8 = function encodeUTF8(text) {\n      return encoder.encode(text);\n    };\n\n    decodeUTF8 = function decodeUTF8(bytes) {\n      return decoder.decode(bytes);\n    };\n  } else if (typeof Buffer !== \"undefined\") {\n    encodeUTF8 = function encodeUTF8(text) {\n      var buffer = Buffer.from(text);\n\n      if (!(buffer instanceof Uint8Array)) {\n        buffer = new Uint8Array(buffer);\n      }\n\n      return buffer;\n    };\n\n    decodeUTF8 = function decodeUTF8(bytes) {\n      var buffer = bytes.buffer,\n          byteOffset = bytes.byteOffset,\n          byteLength = bytes.byteLength;\n      return Buffer.from(buffer, byteOffset, byteLength).toString();\n    };\n  } else {\n    throw new Error(\"No UTF-8 codec found\");\n  }\n\n  function readUInt32LE(buffer, offset) {\n    return buffer[offset++] | buffer[offset++] << 8 | buffer[offset++] << 16 | buffer[offset++] << 24;\n  }\n\n  function writeUInt32LE(buffer, value, offset) {\n    buffer[offset++] = value;\n    buffer[offset++] = value >> 8;\n    buffer[offset++] = value >> 16;\n    buffer[offset++] = value >> 24;\n  } // lib/shared/common.ts\n\n\n  function validateTarget(target) {\n    target += \"\";\n    if (target.indexOf(\",\") >= 0) throw new Error(\"Invalid target: \".concat(target));\n    return target;\n  }\n\n  var canBeAnything = function canBeAnything() {\n    return null;\n  };\n\n  var mustBeBoolean = function mustBeBoolean(value) {\n    return typeof value === \"boolean\" ? null : \"a boolean\";\n  };\n\n  var mustBeBooleanOrObject = function mustBeBooleanOrObject(value) {\n    return typeof value === \"boolean\" || typeof value === \"object\" && !Array.isArray(value) ? null : \"a boolean or an object\";\n  };\n\n  var mustBeString = function mustBeString(value) {\n    return typeof value === \"string\" ? null : \"a string\";\n  };\n\n  var mustBeRegExp = function mustBeRegExp(value) {\n    return value instanceof RegExp ? null : \"a RegExp object\";\n  };\n\n  var mustBeInteger = function mustBeInteger(value) {\n    return typeof value === \"number\" && value === (value | 0) ? null : \"an integer\";\n  };\n\n  var mustBeFunction = function mustBeFunction(value) {\n    return typeof value === \"function\" ? null : \"a function\";\n  };\n\n  var mustBeArray = function mustBeArray(value) {\n    return Array.isArray(value) ? null : \"an array\";\n  };\n\n  var mustBeObject = function mustBeObject(value) {\n    return typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"an object\";\n  };\n\n  var mustBeArrayOrRecord = function mustBeArrayOrRecord(value) {\n    return typeof value === \"object\" && value !== null ? null : \"an array or an object\";\n  };\n\n  var mustBeObjectOrNull = function mustBeObjectOrNull(value) {\n    return typeof value === \"object\" && !Array.isArray(value) ? null : \"an object or null\";\n  };\n\n  var mustBeStringOrBoolean = function mustBeStringOrBoolean(value) {\n    return typeof value === \"string\" || typeof value === \"boolean\" ? null : \"a string or a boolean\";\n  };\n\n  var mustBeStringOrObject = function mustBeStringOrObject(value) {\n    return typeof value === \"string\" || typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"a string or an object\";\n  };\n\n  var mustBeStringOrArray = function mustBeStringOrArray(value) {\n    return typeof value === \"string\" || Array.isArray(value) ? null : \"a string or an array\";\n  };\n\n  var mustBeStringOrUint8Array = function mustBeStringOrUint8Array(value) {\n    return typeof value === \"string\" || value instanceof Uint8Array ? null : \"a string or a Uint8Array\";\n  };\n\n  function getFlag(object, keys, key, mustBeFn) {\n    var value = object[key];\n    keys[key + \"\"] = true;\n    if (value === void 0) return void 0;\n    var mustBe = mustBeFn(value);\n    if (mustBe !== null) throw new Error(\"\\\"\".concat(key, \"\\\" must be \").concat(mustBe));\n    return value;\n  }\n\n  function checkForInvalidFlags(object, keys, where) {\n    for (var key in object) {\n      if (!(key in keys)) {\n        throw new Error(\"Invalid option \".concat(where, \": \\\"\").concat(key, \"\\\"\"));\n      }\n    }\n  }\n\n  function validateInitializeOptions(options) {\n    var keys = Object.create(null);\n    var wasmURL = getFlag(options, keys, \"wasmURL\", mustBeString);\n    var worker = getFlag(options, keys, \"worker\", mustBeBoolean);\n    checkForInvalidFlags(options, keys, \"in startService() call\");\n    return {\n      wasmURL: wasmURL,\n      worker: worker\n    };\n  }\n\n  function pushLogFlags(flags, options, keys, isTTY, logLevelDefault) {\n    var color = getFlag(options, keys, \"color\", mustBeBoolean);\n    var logLevel = getFlag(options, keys, \"logLevel\", mustBeString);\n    var logLimit = getFlag(options, keys, \"logLimit\", mustBeInteger);\n    if (color !== void 0) flags.push(\"--color=\".concat(color));else if (isTTY) flags.push(\"--color=true\");\n    flags.push(\"--log-level=\".concat(logLevel || logLevelDefault));\n    flags.push(\"--log-limit=\".concat(logLimit || 0));\n  }\n\n  function pushCommonFlags(flags, options, keys) {\n    var legalComments = getFlag(options, keys, \"legalComments\", mustBeString);\n    var sourceRoot = getFlag(options, keys, \"sourceRoot\", mustBeString);\n    var sourcesContent = getFlag(options, keys, \"sourcesContent\", mustBeBoolean);\n    var target = getFlag(options, keys, \"target\", mustBeStringOrArray);\n    var format = getFlag(options, keys, \"format\", mustBeString);\n    var globalName = getFlag(options, keys, \"globalName\", mustBeString);\n    var minify = getFlag(options, keys, \"minify\", mustBeBoolean);\n    var minifySyntax = getFlag(options, keys, \"minifySyntax\", mustBeBoolean);\n    var minifyWhitespace = getFlag(options, keys, \"minifyWhitespace\", mustBeBoolean);\n    var minifyIdentifiers = getFlag(options, keys, \"minifyIdentifiers\", mustBeBoolean);\n    var charset = getFlag(options, keys, \"charset\", mustBeString);\n    var treeShaking = getFlag(options, keys, \"treeShaking\", mustBeBoolean);\n    var ignoreAnnotations = getFlag(options, keys, \"ignoreAnnotations\", mustBeBoolean);\n    var jsx = getFlag(options, keys, \"jsx\", mustBeString);\n    var jsxFactory = getFlag(options, keys, \"jsxFactory\", mustBeString);\n    var jsxFragment = getFlag(options, keys, \"jsxFragment\", mustBeString);\n    var define = getFlag(options, keys, \"define\", mustBeObject);\n    var pure = getFlag(options, keys, \"pure\", mustBeArray);\n    var keepNames = getFlag(options, keys, \"keepNames\", mustBeBoolean);\n    if (legalComments) flags.push(\"--legal-comments=\".concat(legalComments));\n    if (sourceRoot !== void 0) flags.push(\"--source-root=\".concat(sourceRoot));\n    if (sourcesContent !== void 0) flags.push(\"--sources-content=\".concat(sourcesContent));\n\n    if (target) {\n      if (Array.isArray(target)) flags.push(\"--target=\".concat(Array.from(target).map(validateTarget).join(\",\")));else flags.push(\"--target=\".concat(validateTarget(target)));\n    }\n\n    if (format) flags.push(\"--format=\".concat(format));\n    if (globalName) flags.push(\"--global-name=\".concat(globalName));\n    if (minify) flags.push(\"--minify\");\n    if (minifySyntax) flags.push(\"--minify-syntax\");\n    if (minifyWhitespace) flags.push(\"--minify-whitespace\");\n    if (minifyIdentifiers) flags.push(\"--minify-identifiers\");\n    if (charset) flags.push(\"--charset=\".concat(charset));\n    if (treeShaking !== void 0) flags.push(\"--tree-shaking=\".concat(treeShaking));\n    if (ignoreAnnotations) flags.push(\"--ignore-annotations\");\n    if (jsx) flags.push(\"--jsx=\".concat(jsx));\n    if (jsxFactory) flags.push(\"--jsx-factory=\".concat(jsxFactory));\n    if (jsxFragment) flags.push(\"--jsx-fragment=\".concat(jsxFragment));\n\n    if (define) {\n      for (var key in define) {\n        if (key.indexOf(\"=\") >= 0) throw new Error(\"Invalid define: \".concat(key));\n        flags.push(\"--define:\".concat(key, \"=\").concat(define[key]));\n      }\n    }\n\n    if (pure) {\n      var _iterator3 = _createForOfIteratorHelper(pure),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var fn = _step3.value;\n          flags.push(\"--pure:\".concat(fn));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n\n    if (keepNames) flags.push(\"--keep-names\");\n  }\n\n  function flagsForBuildOptions(callName, options, isTTY, logLevelDefault, writeDefault) {\n    var _a;\n\n    var flags = [];\n    var entries = [];\n    var keys = Object.create(null);\n    var stdinContents = null;\n    var stdinResolveDir = null;\n    var watchMode = null;\n    pushLogFlags(flags, options, keys, isTTY, logLevelDefault);\n    pushCommonFlags(flags, options, keys);\n    var sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n    var bundle = getFlag(options, keys, \"bundle\", mustBeBoolean);\n    var watch = getFlag(options, keys, \"watch\", mustBeBooleanOrObject);\n    var splitting = getFlag(options, keys, \"splitting\", mustBeBoolean);\n    var preserveSymlinks = getFlag(options, keys, \"preserveSymlinks\", mustBeBoolean);\n    var metafile = getFlag(options, keys, \"metafile\", mustBeBoolean);\n    var outfile = getFlag(options, keys, \"outfile\", mustBeString);\n    var outdir = getFlag(options, keys, \"outdir\", mustBeString);\n    var outbase = getFlag(options, keys, \"outbase\", mustBeString);\n    var platform = getFlag(options, keys, \"platform\", mustBeString);\n    var tsconfig = getFlag(options, keys, \"tsconfig\", mustBeString);\n    var resolveExtensions = getFlag(options, keys, \"resolveExtensions\", mustBeArray);\n    var nodePathsInput = getFlag(options, keys, \"nodePaths\", mustBeArray);\n    var mainFields = getFlag(options, keys, \"mainFields\", mustBeArray);\n    var conditions = getFlag(options, keys, \"conditions\", mustBeArray);\n    var external = getFlag(options, keys, \"external\", mustBeArray);\n    var loader = getFlag(options, keys, \"loader\", mustBeObject);\n    var outExtension = getFlag(options, keys, \"outExtension\", mustBeObject);\n    var publicPath = getFlag(options, keys, \"publicPath\", mustBeString);\n    var entryNames = getFlag(options, keys, \"entryNames\", mustBeString);\n    var chunkNames = getFlag(options, keys, \"chunkNames\", mustBeString);\n    var assetNames = getFlag(options, keys, \"assetNames\", mustBeString);\n    var inject = getFlag(options, keys, \"inject\", mustBeArray);\n    var banner = getFlag(options, keys, \"banner\", mustBeObject);\n    var footer = getFlag(options, keys, \"footer\", mustBeObject);\n    var entryPoints = getFlag(options, keys, \"entryPoints\", mustBeArrayOrRecord);\n    var absWorkingDir = getFlag(options, keys, \"absWorkingDir\", mustBeString);\n    var stdin = getFlag(options, keys, \"stdin\", mustBeObject);\n    var write = (_a = getFlag(options, keys, \"write\", mustBeBoolean)) != null ? _a : writeDefault;\n    var allowOverwrite = getFlag(options, keys, \"allowOverwrite\", mustBeBoolean);\n    var incremental = getFlag(options, keys, \"incremental\", mustBeBoolean) === true;\n    keys.plugins = true;\n    checkForInvalidFlags(options, keys, \"in \".concat(callName, \"() call\"));\n    if (sourcemap) flags.push(\"--sourcemap\".concat(sourcemap === true ? \"\" : \"=\".concat(sourcemap)));\n    if (bundle) flags.push(\"--bundle\");\n    if (allowOverwrite) flags.push(\"--allow-overwrite\");\n\n    if (watch) {\n      flags.push(\"--watch\");\n\n      if (typeof watch === \"boolean\") {\n        watchMode = {};\n      } else {\n        var watchKeys = Object.create(null);\n        var onRebuild = getFlag(watch, watchKeys, \"onRebuild\", mustBeFunction);\n        checkForInvalidFlags(watch, watchKeys, \"on \\\"watch\\\" in \".concat(callName, \"() call\"));\n        watchMode = {\n          onRebuild: onRebuild\n        };\n      }\n    }\n\n    if (splitting) flags.push(\"--splitting\");\n    if (preserveSymlinks) flags.push(\"--preserve-symlinks\");\n    if (metafile) flags.push(\"--metafile\");\n    if (outfile) flags.push(\"--outfile=\".concat(outfile));\n    if (outdir) flags.push(\"--outdir=\".concat(outdir));\n    if (outbase) flags.push(\"--outbase=\".concat(outbase));\n    if (platform) flags.push(\"--platform=\".concat(platform));\n    if (tsconfig) flags.push(\"--tsconfig=\".concat(tsconfig));\n\n    if (resolveExtensions) {\n      var values = [];\n\n      var _iterator4 = _createForOfIteratorHelper(resolveExtensions),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var value = _step4.value;\n          value += \"\";\n          if (value.indexOf(\",\") >= 0) throw new Error(\"Invalid resolve extension: \".concat(value));\n          values.push(value);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      flags.push(\"--resolve-extensions=\".concat(values.join(\",\")));\n    }\n\n    if (publicPath) flags.push(\"--public-path=\".concat(publicPath));\n    if (entryNames) flags.push(\"--entry-names=\".concat(entryNames));\n    if (chunkNames) flags.push(\"--chunk-names=\".concat(chunkNames));\n    if (assetNames) flags.push(\"--asset-names=\".concat(assetNames));\n\n    if (mainFields) {\n      var _values = [];\n\n      var _iterator5 = _createForOfIteratorHelper(mainFields),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var _value2 = _step5.value;\n          _value2 += \"\";\n          if (_value2.indexOf(\",\") >= 0) throw new Error(\"Invalid main field: \".concat(_value2));\n\n          _values.push(_value2);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      flags.push(\"--main-fields=\".concat(_values.join(\",\")));\n    }\n\n    if (conditions) {\n      var _values2 = [];\n\n      var _iterator6 = _createForOfIteratorHelper(conditions),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _value3 = _step6.value;\n          _value3 += \"\";\n          if (_value3.indexOf(\",\") >= 0) throw new Error(\"Invalid condition: \".concat(_value3));\n\n          _values2.push(_value3);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      flags.push(\"--conditions=\".concat(_values2.join(\",\")));\n    }\n\n    if (external) {\n      var _iterator7 = _createForOfIteratorHelper(external),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var name = _step7.value;\n          flags.push(\"--external:\".concat(name));\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n    }\n\n    if (banner) {\n      for (var type in banner) {\n        if (type.indexOf(\"=\") >= 0) throw new Error(\"Invalid banner file type: \".concat(type));\n        flags.push(\"--banner:\".concat(type, \"=\").concat(banner[type]));\n      }\n    }\n\n    if (footer) {\n      for (var _type in footer) {\n        if (_type.indexOf(\"=\") >= 0) throw new Error(\"Invalid footer file type: \".concat(_type));\n        flags.push(\"--footer:\".concat(_type, \"=\").concat(footer[_type]));\n      }\n    }\n\n    if (inject) {\n      var _iterator8 = _createForOfIteratorHelper(inject),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var path = _step8.value;\n          flags.push(\"--inject:\".concat(path));\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n    }\n\n    if (loader) {\n      for (var ext in loader) {\n        if (ext.indexOf(\"=\") >= 0) throw new Error(\"Invalid loader extension: \".concat(ext));\n        flags.push(\"--loader:\".concat(ext, \"=\").concat(loader[ext]));\n      }\n    }\n\n    if (outExtension) {\n      for (var _ext in outExtension) {\n        if (_ext.indexOf(\"=\") >= 0) throw new Error(\"Invalid out extension: \".concat(_ext));\n        flags.push(\"--out-extension:\".concat(_ext, \"=\").concat(outExtension[_ext]));\n      }\n    }\n\n    if (entryPoints) {\n      if (Array.isArray(entryPoints)) {\n        var _iterator9 = _createForOfIteratorHelper(entryPoints),\n            _step9;\n\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var entryPoint = _step9.value;\n            entries.push([\"\", entryPoint + \"\"]);\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n      } else {\n        for (var _i3 = 0, _Object$entries = Object.entries(entryPoints); _i3 < _Object$entries.length; _i3++) {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i3], 2),\n              key = _Object$entries$_i[0],\n              _value4 = _Object$entries$_i[1];\n\n          entries.push([key + \"\", _value4 + \"\"]);\n        }\n      }\n    }\n\n    if (stdin) {\n      var stdinKeys = Object.create(null);\n      var contents = getFlag(stdin, stdinKeys, \"contents\", mustBeString);\n      var resolveDir = getFlag(stdin, stdinKeys, \"resolveDir\", mustBeString);\n      var sourcefile = getFlag(stdin, stdinKeys, \"sourcefile\", mustBeString);\n      var loader2 = getFlag(stdin, stdinKeys, \"loader\", mustBeString);\n      checkForInvalidFlags(stdin, stdinKeys, 'in \"stdin\" object');\n      if (sourcefile) flags.push(\"--sourcefile=\".concat(sourcefile));\n      if (loader2) flags.push(\"--loader=\".concat(loader2));\n      if (resolveDir) stdinResolveDir = resolveDir + \"\";\n      stdinContents = contents ? contents + \"\" : \"\";\n    }\n\n    var nodePaths = [];\n\n    if (nodePathsInput) {\n      var _iterator10 = _createForOfIteratorHelper(nodePathsInput),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var _value5 = _step10.value;\n          _value5 += \"\";\n          nodePaths.push(_value5);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n\n    return {\n      entries: entries,\n      flags: flags,\n      write: write,\n      stdinContents: stdinContents,\n      stdinResolveDir: stdinResolveDir,\n      absWorkingDir: absWorkingDir,\n      incremental: incremental,\n      nodePaths: nodePaths,\n      watch: watchMode\n    };\n  }\n\n  function flagsForTransformOptions(callName, options, isTTY, logLevelDefault) {\n    var flags = [];\n    var keys = Object.create(null);\n    pushLogFlags(flags, options, keys, isTTY, logLevelDefault);\n    pushCommonFlags(flags, options, keys);\n    var sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n    var tsconfigRaw = getFlag(options, keys, \"tsconfigRaw\", mustBeStringOrObject);\n    var sourcefile = getFlag(options, keys, \"sourcefile\", mustBeString);\n    var loader = getFlag(options, keys, \"loader\", mustBeString);\n    var banner = getFlag(options, keys, \"banner\", mustBeString);\n    var footer = getFlag(options, keys, \"footer\", mustBeString);\n    checkForInvalidFlags(options, keys, \"in \".concat(callName, \"() call\"));\n    if (sourcemap) flags.push(\"--sourcemap=\".concat(sourcemap === true ? \"external\" : sourcemap));\n    if (tsconfigRaw) flags.push(\"--tsconfig-raw=\".concat(typeof tsconfigRaw === \"string\" ? tsconfigRaw : JSON.stringify(tsconfigRaw)));\n    if (sourcefile) flags.push(\"--sourcefile=\".concat(sourcefile));\n    if (loader) flags.push(\"--loader=\".concat(loader));\n    if (banner) flags.push(\"--banner=\".concat(banner));\n    if (footer) flags.push(\"--footer=\".concat(footer));\n    return flags;\n  }\n\n  function createChannel(streamIn) {\n    var _this = this;\n\n    var responseCallbacks = new Map();\n    var pluginCallbacks = new Map();\n    var watchCallbacks = new Map();\n    var serveCallbacks = new Map();\n    var nextServeID = 0;\n    var isClosed = false;\n    var nextRequestID = 0;\n    var nextBuildKey = 0;\n    var stdout = new Uint8Array(16 * 1024);\n    var stdoutUsed = 0;\n\n    var readFromStdout = function readFromStdout(chunk) {\n      var limit = stdoutUsed + chunk.length;\n\n      if (limit > stdout.length) {\n        var swap = new Uint8Array(limit * 2);\n        swap.set(stdout);\n        stdout = swap;\n      }\n\n      stdout.set(chunk, stdoutUsed);\n      stdoutUsed += chunk.length;\n      var offset = 0;\n\n      while (offset + 4 <= stdoutUsed) {\n        var length = readUInt32LE(stdout, offset);\n\n        if (offset + 4 + length > stdoutUsed) {\n          break;\n        }\n\n        offset += 4;\n        handleIncomingPacket(stdout.subarray(offset, offset + length));\n        offset += length;\n      }\n\n      if (offset > 0) {\n        stdout.copyWithin(0, offset, stdoutUsed);\n        stdoutUsed -= offset;\n      }\n    };\n\n    var afterClose = function afterClose() {\n      isClosed = true;\n\n      var _iterator11 = _createForOfIteratorHelper(responseCallbacks.values()),\n          _step11;\n\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var callback = _step11.value;\n          callback(\"The service was stopped\", null);\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n\n      responseCallbacks.clear();\n\n      var _iterator12 = _createForOfIteratorHelper(serveCallbacks.values()),\n          _step12;\n\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var callbacks = _step12.value;\n          callbacks.onWait(\"The service was stopped\");\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n\n      serveCallbacks.clear();\n\n      var _iterator13 = _createForOfIteratorHelper(watchCallbacks.values()),\n          _step13;\n\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var _callback = _step13.value;\n\n          try {\n            _callback(new Error(\"The service was stopped\"), null);\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n\n      watchCallbacks.clear();\n    };\n\n    var sendRequest = function sendRequest(refs, value, callback) {\n      if (isClosed) return callback(\"The service is no longer running\", null);\n      var id = nextRequestID++;\n      responseCallbacks.set(id, function (error, response) {\n        try {\n          callback(error, response);\n        } finally {\n          if (refs) refs.unref();\n        }\n      });\n      if (refs) refs.ref();\n      streamIn.writeToStdin(encodePacket({\n        id: id,\n        isRequest: true,\n        value: value\n      }));\n    };\n\n    var sendResponse = function sendResponse(id, value) {\n      if (isClosed) throw new Error(\"The service is no longer running\");\n      streamIn.writeToStdin(encodePacket({\n        id: id,\n        isRequest: false,\n        value: value\n      }));\n    };\n\n    var handleRequest = function handleRequest(id, request) {\n      return __async(_this, null, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var callback, _callback2, _callback3, callbacks, _callbacks, _callback4;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.t0 = request.command;\n                _context.next = _context.t0 === \"ping\" ? 4 : _context.t0 === \"start\" ? 6 : _context.t0 === \"resolve\" ? 18 : _context.t0 === \"load\" ? 30 : _context.t0 === \"serve-request\" ? 42 : _context.t0 === \"serve-wait\" ? 46 : _context.t0 === \"watch-rebuild\" ? 50 : 54;\n                break;\n\n              case 4:\n                sendResponse(id, {});\n                return _context.abrupt(\"break\", 55);\n\n              case 6:\n                callback = pluginCallbacks.get(request.key);\n\n                if (callback) {\n                  _context.next = 11;\n                  break;\n                }\n\n                sendResponse(id, {});\n                _context.next = 17;\n                break;\n\n              case 11:\n                _context.t1 = sendResponse;\n                _context.t2 = id;\n                _context.next = 15;\n                return callback(request);\n\n              case 15:\n                _context.t3 = _context.sent;\n                (0, _context.t1)(_context.t2, _context.t3);\n\n              case 17:\n                return _context.abrupt(\"break\", 55);\n\n              case 18:\n                _callback2 = pluginCallbacks.get(request.key);\n\n                if (_callback2) {\n                  _context.next = 23;\n                  break;\n                }\n\n                sendResponse(id, {});\n                _context.next = 29;\n                break;\n\n              case 23:\n                _context.t4 = sendResponse;\n                _context.t5 = id;\n                _context.next = 27;\n                return _callback2(request);\n\n              case 27:\n                _context.t6 = _context.sent;\n                (0, _context.t4)(_context.t5, _context.t6);\n\n              case 29:\n                return _context.abrupt(\"break\", 55);\n\n              case 30:\n                _callback3 = pluginCallbacks.get(request.key);\n\n                if (_callback3) {\n                  _context.next = 35;\n                  break;\n                }\n\n                sendResponse(id, {});\n                _context.next = 41;\n                break;\n\n              case 35:\n                _context.t7 = sendResponse;\n                _context.t8 = id;\n                _context.next = 39;\n                return _callback3(request);\n\n              case 39:\n                _context.t9 = _context.sent;\n                (0, _context.t7)(_context.t8, _context.t9);\n\n              case 41:\n                return _context.abrupt(\"break\", 55);\n\n              case 42:\n                callbacks = serveCallbacks.get(request.serveID);\n                if (callbacks && callbacks.onRequest) callbacks.onRequest(request.args);\n                sendResponse(id, {});\n                return _context.abrupt(\"break\", 55);\n\n              case 46:\n                _callbacks = serveCallbacks.get(request.serveID);\n                if (_callbacks) _callbacks.onWait(request.error);\n                sendResponse(id, {});\n                return _context.abrupt(\"break\", 55);\n\n              case 50:\n                _callback4 = watchCallbacks.get(request.watchID);\n\n                try {\n                  if (_callback4) _callback4(null, request.args);\n                } catch (err) {\n                  console.error(err);\n                }\n\n                sendResponse(id, {});\n                return _context.abrupt(\"break\", 55);\n\n              case 54:\n                throw new Error(\"Invalid command: \" + request.command);\n\n              case 55:\n                _context.next = 60;\n                break;\n\n              case 57:\n                _context.prev = 57;\n                _context.t10 = _context[\"catch\"](0);\n                sendResponse(id, {\n                  errors: [extractErrorMessageV8(_context.t10, streamIn, null, void 0, \"\")]\n                });\n\n              case 60:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 57]]);\n      }));\n    };\n\n    var isFirstPacket = true;\n\n    var handleIncomingPacket = function handleIncomingPacket(bytes) {\n      if (isFirstPacket) {\n        isFirstPacket = false;\n        var binaryVersion = String.fromCharCode.apply(String, _toConsumableArray(bytes));\n\n        if (binaryVersion !== \"0.13.13\") {\n          throw new Error(\"Cannot start service: Host version \\\"\".concat(\"0.13.13\", \"\\\" does not match binary version \", JSON.stringify(binaryVersion)));\n        }\n\n        return;\n      }\n\n      var packet = decodePacket(bytes);\n\n      if (packet.isRequest) {\n        handleRequest(packet.id, packet.value);\n      } else {\n        var callback = responseCallbacks.get(packet.id);\n        responseCallbacks.delete(packet.id);\n        if (packet.value.error) callback(packet.value.error, {});else callback(null, packet.value);\n      }\n    };\n\n    var handlePlugins = function handlePlugins(initialOptions, plugins, buildKey, stash) {\n      return __async(_this, null, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this2 = this;\n\n        var onStartCallbacks, onEndCallbacks, onResolveCallbacks, onLoadCallbacks, nextCallbackID, i, requestPlugins, _iterator14, _step14, _loop2, _ret, callback, runOnEndCallbacks, refCount;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                onStartCallbacks = [];\n                onEndCallbacks = [];\n                onResolveCallbacks = {};\n                onLoadCallbacks = {};\n                nextCallbackID = 0;\n                i = 0;\n                requestPlugins = [];\n                plugins = _toConsumableArray(plugins);\n                _iterator14 = _createForOfIteratorHelper(plugins);\n                _context7.prev = 9;\n                _loop2 = /*#__PURE__*/_regeneratorRuntime.mark(function _loop2() {\n                  var item, keys, name, setup, plugin, promise;\n                  return _regeneratorRuntime.wrap(function _loop2$(_context6) {\n                    while (1) {\n                      switch (_context6.prev = _context6.next) {\n                        case 0:\n                          item = _step14.value;\n                          keys = {};\n\n                          if (!(typeof item !== \"object\")) {\n                            _context6.next = 4;\n                            break;\n                          }\n\n                          throw new Error(\"Plugin at index \".concat(i, \" must be an object\"));\n\n                        case 4:\n                          name = getFlag(item, keys, \"name\", mustBeString);\n\n                          if (!(typeof name !== \"string\" || name === \"\")) {\n                            _context6.next = 7;\n                            break;\n                          }\n\n                          throw new Error(\"Plugin at index \".concat(i, \" is missing a name\"));\n\n                        case 7:\n                          _context6.prev = 7;\n                          setup = getFlag(item, keys, \"setup\", mustBeFunction);\n\n                          if (!(typeof setup !== \"function\")) {\n                            _context6.next = 11;\n                            break;\n                          }\n\n                          throw new Error(\"Plugin is missing a setup function\");\n\n                        case 11:\n                          checkForInvalidFlags(item, keys, \"on plugin \".concat(JSON.stringify(name)));\n                          plugin = {\n                            name: name,\n                            onResolve: [],\n                            onLoad: []\n                          };\n                          i++;\n                          promise = setup({\n                            initialOptions: initialOptions,\n                            onStart: function onStart(callback2) {\n                              var registeredText = \"This error came from the \\\"onStart\\\" callback registered here\";\n                              var registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onStart\");\n                              onStartCallbacks.push({\n                                name: name,\n                                callback: callback2,\n                                note: registeredNote\n                              });\n                            },\n                            onEnd: function onEnd(callback2) {\n                              var registeredText = \"This error came from the \\\"onEnd\\\" callback registered here\";\n                              var registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onEnd\");\n                              onEndCallbacks.push({\n                                name: name,\n                                callback: callback2,\n                                note: registeredNote\n                              });\n                            },\n                            onResolve: function onResolve(options, callback2) {\n                              var registeredText = \"This error came from the \\\"onResolve\\\" callback registered here\";\n                              var registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onResolve\");\n                              var keys2 = {};\n                              var filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n                              var namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n                              checkForInvalidFlags(options, keys2, \"in onResolve() call for plugin \".concat(JSON.stringify(name)));\n                              if (filter == null) throw new Error(\"onResolve() call is missing a filter\");\n                              var id = nextCallbackID++;\n                              onResolveCallbacks[id] = {\n                                name: name,\n                                callback: callback2,\n                                note: registeredNote\n                              };\n                              plugin.onResolve.push({\n                                id: id,\n                                filter: filter.source,\n                                namespace: namespace || \"\"\n                              });\n                            },\n                            onLoad: function onLoad(options, callback2) {\n                              var registeredText = \"This error came from the \\\"onLoad\\\" callback registered here\";\n                              var registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onLoad\");\n                              var keys2 = {};\n                              var filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n                              var namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n                              checkForInvalidFlags(options, keys2, \"in onLoad() call for plugin \".concat(JSON.stringify(name)));\n                              if (filter == null) throw new Error(\"onLoad() call is missing a filter\");\n                              var id = nextCallbackID++;\n                              onLoadCallbacks[id] = {\n                                name: name,\n                                callback: callback2,\n                                note: registeredNote\n                              };\n                              plugin.onLoad.push({\n                                id: id,\n                                filter: filter.source,\n                                namespace: namespace || \"\"\n                              });\n                            }\n                          });\n\n                          if (!promise) {\n                            _context6.next = 18;\n                            break;\n                          }\n\n                          _context6.next = 18;\n                          return promise;\n\n                        case 18:\n                          requestPlugins.push(plugin);\n                          _context6.next = 24;\n                          break;\n\n                        case 21:\n                          _context6.prev = 21;\n                          _context6.t0 = _context6[\"catch\"](7);\n                          return _context6.abrupt(\"return\", {\n                            v: {\n                              ok: false,\n                              error: _context6.t0,\n                              pluginName: name\n                            }\n                          });\n\n                        case 24:\n                        case \"end\":\n                          return _context6.stop();\n                      }\n                    }\n                  }, _loop2, null, [[7, 21]]);\n                });\n\n                _iterator14.s();\n\n              case 12:\n                if ((_step14 = _iterator14.n()).done) {\n                  _context7.next = 19;\n                  break;\n                }\n\n                return _context7.delegateYield(_loop2(), \"t0\", 14);\n\n              case 14:\n                _ret = _context7.t0;\n\n                if (!(typeof _ret === \"object\")) {\n                  _context7.next = 17;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", _ret.v);\n\n              case 17:\n                _context7.next = 12;\n                break;\n\n              case 19:\n                _context7.next = 24;\n                break;\n\n              case 21:\n                _context7.prev = 21;\n                _context7.t1 = _context7[\"catch\"](9);\n\n                _iterator14.e(_context7.t1);\n\n              case 24:\n                _context7.prev = 24;\n\n                _iterator14.f();\n\n                return _context7.finish(24);\n\n              case 27:\n                callback = function callback(request) {\n                  return __async(_this2, null, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                    var _this3 = this;\n\n                    var response, _response, name, callback2, note, _iterator15, _step15, id, _onResolveCallbacks$i, result, keys, pluginName, path, namespace, external, sideEffects, pluginData, errors, warnings, watchFiles, watchDirs, _response2, _name, _callback5, _note, _iterator16, _step16, _id, _onLoadCallbacks$_id, _result, _keys2, _pluginName, contents, resolveDir, _pluginData, loader, _errors, _warnings, _watchFiles, _watchDirs;\n\n                    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.t0 = request.command;\n                            _context3.next = _context3.t0 === \"start\" ? 3 : _context3.t0 === \"resolve\" ? 7 : _context3.t0 === \"load\" ? 64 : 119;\n                            break;\n\n                          case 3:\n                            response = {\n                              errors: [],\n                              warnings: []\n                            };\n                            _context3.next = 6;\n                            return Promise.all(onStartCallbacks.map(function (_0) {\n                              return __async(_this3, [_0], /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref) {\n                                var name, callback2, note, result, _response$errors, _response$warnings, keys, errors, warnings;\n\n                                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                  while (1) {\n                                    switch (_context2.prev = _context2.next) {\n                                      case 0:\n                                        name = _ref.name, callback2 = _ref.callback, note = _ref.note;\n                                        _context2.prev = 1;\n                                        _context2.next = 4;\n                                        return callback2();\n\n                                      case 4:\n                                        result = _context2.sent;\n\n                                        if (!(result != null)) {\n                                          _context2.next = 14;\n                                          break;\n                                        }\n\n                                        if (!(typeof result !== \"object\")) {\n                                          _context2.next = 8;\n                                          break;\n                                        }\n\n                                        throw new Error(\"Expected onStart() callback in plugin \".concat(JSON.stringify(name), \" to return an object\"));\n\n                                      case 8:\n                                        keys = {};\n                                        errors = getFlag(result, keys, \"errors\", mustBeArray);\n                                        warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                                        checkForInvalidFlags(result, keys, \"from onStart() callback in plugin \".concat(JSON.stringify(name)));\n                                        if (errors != null) (_response$errors = response.errors).push.apply(_response$errors, _toConsumableArray(sanitizeMessages(errors, \"errors\", stash, name)));\n                                        if (warnings != null) (_response$warnings = response.warnings).push.apply(_response$warnings, _toConsumableArray(sanitizeMessages(warnings, \"warnings\", stash, name)));\n\n                                      case 14:\n                                        _context2.next = 19;\n                                        break;\n\n                                      case 16:\n                                        _context2.prev = 16;\n                                        _context2.t0 = _context2[\"catch\"](1);\n                                        response.errors.push(extractErrorMessageV8(_context2.t0, streamIn, stash, note && note(), name));\n\n                                      case 19:\n                                      case \"end\":\n                                        return _context2.stop();\n                                    }\n                                  }\n                                }, _callee2, null, [[1, 16]]);\n                              }));\n                            }));\n\n                          case 6:\n                            return _context3.abrupt(\"return\", response);\n\n                          case 7:\n                            _response = {}, name = \"\";\n                            _iterator15 = _createForOfIteratorHelper(request.ids);\n                            _context3.prev = 9;\n\n                            _iterator15.s();\n\n                          case 11:\n                            if ((_step15 = _iterator15.n()).done) {\n                              _context3.next = 55;\n                              break;\n                            }\n\n                            id = _step15.value;\n                            _context3.prev = 13;\n                            _onResolveCallbacks$i = onResolveCallbacks[id];\n                            name = _onResolveCallbacks$i.name;\n                            callback2 = _onResolveCallbacks$i.callback;\n                            note = _onResolveCallbacks$i.note;\n                            _context3.next = 20;\n                            return callback2({\n                              path: request.path,\n                              importer: request.importer,\n                              namespace: request.namespace,\n                              resolveDir: request.resolveDir,\n                              kind: request.kind,\n                              pluginData: stash.load(request.pluginData)\n                            });\n\n                          case 20:\n                            result = _context3.sent;\n\n                            if (!(result != null)) {\n                              _context3.next = 48;\n                              break;\n                            }\n\n                            if (!(typeof result !== \"object\")) {\n                              _context3.next = 24;\n                              break;\n                            }\n\n                            throw new Error(\"Expected onResolve() callback in plugin \".concat(JSON.stringify(name), \" to return an object\"));\n\n                          case 24:\n                            keys = {};\n                            pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n                            path = getFlag(result, keys, \"path\", mustBeString);\n                            namespace = getFlag(result, keys, \"namespace\", mustBeString);\n                            external = getFlag(result, keys, \"external\", mustBeBoolean);\n                            sideEffects = getFlag(result, keys, \"sideEffects\", mustBeBoolean);\n                            pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n                            errors = getFlag(result, keys, \"errors\", mustBeArray);\n                            warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                            watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n                            watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n                            checkForInvalidFlags(result, keys, \"from onResolve() callback in plugin \".concat(JSON.stringify(name)));\n                            _response.id = id;\n                            if (pluginName != null) _response.pluginName = pluginName;\n                            if (path != null) _response.path = path;\n                            if (namespace != null) _response.namespace = namespace;\n                            if (external != null) _response.external = external;\n                            if (sideEffects != null) _response.sideEffects = sideEffects;\n                            if (pluginData != null) _response.pluginData = stash.store(pluginData);\n                            if (errors != null) _response.errors = sanitizeMessages(errors, \"errors\", stash, name);\n                            if (warnings != null) _response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\n                            if (watchFiles != null) _response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n                            if (watchDirs != null) _response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n                            return _context3.abrupt(\"break\", 55);\n\n                          case 48:\n                            _context3.next = 53;\n                            break;\n\n                          case 50:\n                            _context3.prev = 50;\n                            _context3.t1 = _context3[\"catch\"](13);\n                            return _context3.abrupt(\"return\", {\n                              id: id,\n                              errors: [extractErrorMessageV8(_context3.t1, streamIn, stash, note && note(), name)]\n                            });\n\n                          case 53:\n                            _context3.next = 11;\n                            break;\n\n                          case 55:\n                            _context3.next = 60;\n                            break;\n\n                          case 57:\n                            _context3.prev = 57;\n                            _context3.t2 = _context3[\"catch\"](9);\n\n                            _iterator15.e(_context3.t2);\n\n                          case 60:\n                            _context3.prev = 60;\n\n                            _iterator15.f();\n\n                            return _context3.finish(60);\n\n                          case 63:\n                            return _context3.abrupt(\"return\", _response);\n\n                          case 64:\n                            _response2 = {}, _name = \"\";\n                            _iterator16 = _createForOfIteratorHelper(request.ids);\n                            _context3.prev = 66;\n\n                            _iterator16.s();\n\n                          case 68:\n                            if ((_step16 = _iterator16.n()).done) {\n                              _context3.next = 110;\n                              break;\n                            }\n\n                            _id = _step16.value;\n                            _context3.prev = 70;\n                            _onLoadCallbacks$_id = onLoadCallbacks[_id];\n                            _name = _onLoadCallbacks$_id.name;\n                            _callback5 = _onLoadCallbacks$_id.callback;\n                            _note = _onLoadCallbacks$_id.note;\n                            _context3.next = 77;\n                            return _callback5({\n                              path: request.path,\n                              namespace: request.namespace,\n                              pluginData: stash.load(request.pluginData)\n                            });\n\n                          case 77:\n                            _result = _context3.sent;\n\n                            if (!(_result != null)) {\n                              _context3.next = 103;\n                              break;\n                            }\n\n                            if (!(typeof _result !== \"object\")) {\n                              _context3.next = 81;\n                              break;\n                            }\n\n                            throw new Error(\"Expected onLoad() callback in plugin \".concat(JSON.stringify(_name), \" to return an object\"));\n\n                          case 81:\n                            _keys2 = {};\n                            _pluginName = getFlag(_result, _keys2, \"pluginName\", mustBeString);\n                            contents = getFlag(_result, _keys2, \"contents\", mustBeStringOrUint8Array);\n                            resolveDir = getFlag(_result, _keys2, \"resolveDir\", mustBeString);\n                            _pluginData = getFlag(_result, _keys2, \"pluginData\", canBeAnything);\n                            loader = getFlag(_result, _keys2, \"loader\", mustBeString);\n                            _errors = getFlag(_result, _keys2, \"errors\", mustBeArray);\n                            _warnings = getFlag(_result, _keys2, \"warnings\", mustBeArray);\n                            _watchFiles = getFlag(_result, _keys2, \"watchFiles\", mustBeArray);\n                            _watchDirs = getFlag(_result, _keys2, \"watchDirs\", mustBeArray);\n                            checkForInvalidFlags(_result, _keys2, \"from onLoad() callback in plugin \".concat(JSON.stringify(_name)));\n                            _response2.id = _id;\n                            if (_pluginName != null) _response2.pluginName = _pluginName;\n                            if (contents instanceof Uint8Array) _response2.contents = contents;else if (contents != null) _response2.contents = encodeUTF8(contents);\n                            if (resolveDir != null) _response2.resolveDir = resolveDir;\n                            if (_pluginData != null) _response2.pluginData = stash.store(_pluginData);\n                            if (loader != null) _response2.loader = loader;\n                            if (_errors != null) _response2.errors = sanitizeMessages(_errors, \"errors\", stash, _name);\n                            if (_warnings != null) _response2.warnings = sanitizeMessages(_warnings, \"warnings\", stash, _name);\n                            if (_watchFiles != null) _response2.watchFiles = sanitizeStringArray(_watchFiles, \"watchFiles\");\n                            if (_watchDirs != null) _response2.watchDirs = sanitizeStringArray(_watchDirs, \"watchDirs\");\n                            return _context3.abrupt(\"break\", 110);\n\n                          case 103:\n                            _context3.next = 108;\n                            break;\n\n                          case 105:\n                            _context3.prev = 105;\n                            _context3.t3 = _context3[\"catch\"](70);\n                            return _context3.abrupt(\"return\", {\n                              id: _id,\n                              errors: [extractErrorMessageV8(_context3.t3, streamIn, stash, _note && _note(), _name)]\n                            });\n\n                          case 108:\n                            _context3.next = 68;\n                            break;\n\n                          case 110:\n                            _context3.next = 115;\n                            break;\n\n                          case 112:\n                            _context3.prev = 112;\n                            _context3.t4 = _context3[\"catch\"](66);\n\n                            _iterator16.e(_context3.t4);\n\n                          case 115:\n                            _context3.prev = 115;\n\n                            _iterator16.f();\n\n                            return _context3.finish(115);\n\n                          case 118:\n                            return _context3.abrupt(\"return\", _response2);\n\n                          case 119:\n                            throw new Error(\"Invalid command: \" + request.command);\n\n                          case 120:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3, null, [[9, 57, 60, 63], [13, 50], [66, 112, 115, 118], [70, 105]]);\n                  }));\n                };\n\n                runOnEndCallbacks = function runOnEndCallbacks(result, logPluginError, done) {\n                  return done();\n                };\n\n                if (onEndCallbacks.length > 0) {\n                  runOnEndCallbacks = function runOnEndCallbacks(result, logPluginError, done) {\n                    (function () {\n                      return __async(_this2, null, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                        var _iterator17, _step17, _loop;\n\n                        return _regeneratorRuntime.wrap(function _callee4$(_context5) {\n                          while (1) {\n                            switch (_context5.prev = _context5.next) {\n                              case 0:\n                                _iterator17 = _createForOfIteratorHelper(onEndCallbacks);\n                                _context5.prev = 1;\n                                _loop = /*#__PURE__*/_regeneratorRuntime.mark(function _loop() {\n                                  var _step17$value, name, callback2, note;\n\n                                  return _regeneratorRuntime.wrap(function _loop$(_context4) {\n                                    while (1) {\n                                      switch (_context4.prev = _context4.next) {\n                                        case 0:\n                                          _step17$value = _step17.value, name = _step17$value.name, callback2 = _step17$value.callback, note = _step17$value.note;\n                                          _context4.prev = 1;\n                                          _context4.next = 4;\n                                          return callback2(result);\n\n                                        case 4:\n                                          _context4.next = 13;\n                                          break;\n\n                                        case 6:\n                                          _context4.prev = 6;\n                                          _context4.t0 = _context4[\"catch\"](1);\n                                          _context4.t1 = result.errors;\n                                          _context4.next = 11;\n                                          return new Promise(function (resolve) {\n                                            return logPluginError(_context4.t0, name, note && note(), resolve);\n                                          });\n\n                                        case 11:\n                                          _context4.t2 = _context4.sent;\n\n                                          _context4.t1.push.call(_context4.t1, _context4.t2);\n\n                                        case 13:\n                                        case \"end\":\n                                          return _context4.stop();\n                                      }\n                                    }\n                                  }, _loop, null, [[1, 6]]);\n                                });\n\n                                _iterator17.s();\n\n                              case 4:\n                                if ((_step17 = _iterator17.n()).done) {\n                                  _context5.next = 8;\n                                  break;\n                                }\n\n                                return _context5.delegateYield(_loop(), \"t0\", 6);\n\n                              case 6:\n                                _context5.next = 4;\n                                break;\n\n                              case 8:\n                                _context5.next = 13;\n                                break;\n\n                              case 10:\n                                _context5.prev = 10;\n                                _context5.t1 = _context5[\"catch\"](1);\n\n                                _iterator17.e(_context5.t1);\n\n                              case 13:\n                                _context5.prev = 13;\n\n                                _iterator17.f();\n\n                                return _context5.finish(13);\n\n                              case 16:\n                              case \"end\":\n                                return _context5.stop();\n                            }\n                          }\n                        }, _callee4, null, [[1, 10, 13, 16]]);\n                      }));\n                    })().then(done);\n                  };\n                }\n\n                refCount = 0;\n                return _context7.abrupt(\"return\", {\n                  ok: true,\n                  requestPlugins: requestPlugins,\n                  runOnEndCallbacks: runOnEndCallbacks,\n                  pluginRefs: {\n                    ref: function ref() {\n                      if (++refCount === 1) pluginCallbacks.set(buildKey, callback);\n                    },\n                    unref: function unref() {\n                      if (--refCount === 0) pluginCallbacks.delete(buildKey);\n                    }\n                  }\n                });\n\n              case 32:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5, null, [[9, 21, 24, 27]]);\n      }));\n    };\n\n    var buildServeData = function buildServeData(refs, options, request) {\n      var keys = {};\n      var port = getFlag(options, keys, \"port\", mustBeInteger);\n      var host = getFlag(options, keys, \"host\", mustBeString);\n      var servedir = getFlag(options, keys, \"servedir\", mustBeString);\n      var onRequest = getFlag(options, keys, \"onRequest\", mustBeFunction);\n      var serveID = nextServeID++;\n      var onWait;\n      var wait = new Promise(function (resolve, reject) {\n        onWait = function onWait(error) {\n          serveCallbacks.delete(serveID);\n          if (error !== null) reject(new Error(error));else resolve();\n        };\n      });\n      request.serve = {\n        serveID: serveID\n      };\n      checkForInvalidFlags(options, keys, \"in serve() call\");\n      if (port !== void 0) request.serve.port = port;\n      if (host !== void 0) request.serve.host = host;\n      if (servedir !== void 0) request.serve.servedir = servedir;\n      serveCallbacks.set(serveID, {\n        onRequest: onRequest,\n        onWait: onWait\n      });\n      return {\n        wait: wait,\n        stop: function stop() {\n          sendRequest(refs, {\n            command: \"serve-stop\",\n            serveID: serveID\n          }, function () {});\n        }\n      };\n    };\n\n    var buildLogLevelDefault = \"warning\";\n    var transformLogLevelDefault = \"silent\";\n\n    var buildOrServe = function buildOrServe(args) {\n      var key = nextBuildKey++;\n      var details = createObjectStash();\n      var plugins;\n      var refs = args.refs,\n          options = args.options,\n          isTTY = args.isTTY,\n          callback = args.callback;\n\n      if (typeof options === \"object\") {\n        var value = options.plugins;\n\n        if (value !== void 0) {\n          if (!Array.isArray(value)) throw new Error(\"\\\"plugins\\\" must be an array\");\n          plugins = value;\n        }\n      }\n\n      var logPluginError = function logPluginError(e, pluginName, note, done) {\n        var flags = [];\n\n        try {\n          pushLogFlags(flags, options, {}, isTTY, buildLogLevelDefault);\n        } catch (e2) {}\n\n        var message = extractErrorMessageV8(e, streamIn, details, note, pluginName);\n        sendRequest(refs, {\n          command: \"error\",\n          flags: flags,\n          error: message\n        }, function () {\n          message.detail = details.load(message.detail);\n          done(message);\n        });\n      };\n\n      var handleError = function handleError(e, pluginName) {\n        logPluginError(e, pluginName, void 0, function (error) {\n          callback(failureErrorWithLog(\"Build failed\", [error], []), null);\n        });\n      };\n\n      if (plugins && plugins.length > 0) {\n        if (streamIn.isSync) return handleError(new Error(\"Cannot use plugins in synchronous API calls\"), \"\");\n        handlePlugins(options, plugins, key, details).then(function (result) {\n          if (!result.ok) {\n            handleError(result.error, result.pluginName);\n          } else {\n            try {\n              buildOrServeContinue(__spreadProps(__spreadValues({}, args), {\n                key: key,\n                details: details,\n                logPluginError: logPluginError,\n                requestPlugins: result.requestPlugins,\n                runOnEndCallbacks: result.runOnEndCallbacks,\n                pluginRefs: result.pluginRefs\n              }));\n            } catch (e) {\n              handleError(e, \"\");\n            }\n          }\n        }, function (e) {\n          return handleError(e, \"\");\n        });\n      } else {\n        try {\n          buildOrServeContinue(__spreadProps(__spreadValues({}, args), {\n            key: key,\n            details: details,\n            logPluginError: logPluginError,\n            requestPlugins: null,\n            runOnEndCallbacks: function runOnEndCallbacks(result, logPluginError2, done) {\n              return done();\n            },\n            pluginRefs: null\n          }));\n        } catch (e) {\n          handleError(e, \"\");\n        }\n      }\n    };\n\n    var buildOrServeContinue = function buildOrServeContinue(_ref2) {\n      var callName = _ref2.callName,\n          callerRefs = _ref2.refs,\n          serveOptions = _ref2.serveOptions,\n          options = _ref2.options,\n          isTTY = _ref2.isTTY,\n          defaultWD = _ref2.defaultWD,\n          callback = _ref2.callback,\n          key = _ref2.key,\n          details = _ref2.details,\n          logPluginError = _ref2.logPluginError,\n          requestPlugins = _ref2.requestPlugins,\n          runOnEndCallbacks = _ref2.runOnEndCallbacks,\n          pluginRefs = _ref2.pluginRefs;\n      var refs = {\n        ref: function ref() {\n          if (pluginRefs) pluginRefs.ref();\n          if (callerRefs) callerRefs.ref();\n        },\n        unref: function unref() {\n          if (pluginRefs) pluginRefs.unref();\n          if (callerRefs) callerRefs.unref();\n        }\n      };\n      var writeDefault = !streamIn.isBrowser;\n\n      var _flagsForBuildOptions = flagsForBuildOptions(callName, options, isTTY, buildLogLevelDefault, writeDefault),\n          entries = _flagsForBuildOptions.entries,\n          flags = _flagsForBuildOptions.flags,\n          write = _flagsForBuildOptions.write,\n          stdinContents = _flagsForBuildOptions.stdinContents,\n          stdinResolveDir = _flagsForBuildOptions.stdinResolveDir,\n          absWorkingDir = _flagsForBuildOptions.absWorkingDir,\n          incremental = _flagsForBuildOptions.incremental,\n          nodePaths = _flagsForBuildOptions.nodePaths,\n          watch = _flagsForBuildOptions.watch;\n\n      var request = {\n        command: \"build\",\n        key: key,\n        entries: entries,\n        flags: flags,\n        write: write,\n        stdinContents: stdinContents,\n        stdinResolveDir: stdinResolveDir,\n        absWorkingDir: absWorkingDir || defaultWD,\n        incremental: incremental,\n        nodePaths: nodePaths\n      };\n      if (requestPlugins) request.plugins = requestPlugins;\n      var serve2 = serveOptions && buildServeData(refs, serveOptions, request);\n      var rebuild;\n      var stop;\n\n      var copyResponseToResult = function copyResponseToResult(response, result) {\n        if (response.outputFiles) result.outputFiles = response.outputFiles.map(convertOutputFiles);\n        if (response.metafile) result.metafile = JSON.parse(response.metafile);\n        if (response.writeToStdout !== void 0) console.log(decodeUTF8(response.writeToStdout).replace(/\\n$/, \"\"));\n      };\n\n      var buildResponseToResult = function buildResponseToResult(response, callback2) {\n        var result = {\n          errors: replaceDetailsInMessages(response.errors, details),\n          warnings: replaceDetailsInMessages(response.warnings, details)\n        };\n        copyResponseToResult(response, result);\n        runOnEndCallbacks(result, logPluginError, function () {\n          if (result.errors.length > 0) {\n            return callback2(failureErrorWithLog(\"Build failed\", result.errors, result.warnings), null);\n          }\n\n          if (response.rebuildID !== void 0) {\n            if (!rebuild) {\n              var isDisposed = false;\n\n              rebuild = function rebuild() {\n                return new Promise(function (resolve, reject) {\n                  if (isDisposed || isClosed) throw new Error(\"Cannot rebuild\");\n                  sendRequest(refs, {\n                    command: \"rebuild\",\n                    rebuildID: response.rebuildID\n                  }, function (error2, response2) {\n                    if (error2) {\n                      var message = {\n                        pluginName: \"\",\n                        text: error2,\n                        location: null,\n                        notes: [],\n                        detail: void 0\n                      };\n                      return callback2(failureErrorWithLog(\"Build failed\", [message], []), null);\n                    }\n\n                    buildResponseToResult(response2, function (error3, result3) {\n                      if (error3) reject(error3);else resolve(result3);\n                    });\n                  });\n                });\n              };\n\n              refs.ref();\n\n              rebuild.dispose = function () {\n                if (isDisposed) return;\n                isDisposed = true;\n                sendRequest(refs, {\n                  command: \"rebuild-dispose\",\n                  rebuildID: response.rebuildID\n                }, function () {});\n                refs.unref();\n              };\n            }\n\n            result.rebuild = rebuild;\n          }\n\n          if (response.watchID !== void 0) {\n            if (!stop) {\n              var isStopped = false;\n              refs.ref();\n\n              stop = function stop() {\n                if (isStopped) return;\n                isStopped = true;\n                watchCallbacks.delete(response.watchID);\n                sendRequest(refs, {\n                  command: \"watch-stop\",\n                  watchID: response.watchID\n                }, function () {});\n                refs.unref();\n              };\n\n              if (watch) {\n                watchCallbacks.set(response.watchID, function (serviceStopError, watchResponse) {\n                  if (serviceStopError) {\n                    if (watch.onRebuild) watch.onRebuild(serviceStopError, null);\n                    return;\n                  }\n\n                  var result2 = {\n                    errors: replaceDetailsInMessages(watchResponse.errors, details),\n                    warnings: replaceDetailsInMessages(watchResponse.warnings, details)\n                  };\n                  copyResponseToResult(watchResponse, result2);\n                  runOnEndCallbacks(result2, logPluginError, function () {\n                    if (result2.errors.length > 0) {\n                      if (watch.onRebuild) watch.onRebuild(failureErrorWithLog(\"Build failed\", result2.errors, result2.warnings), null);\n                      return;\n                    }\n\n                    if (watchResponse.rebuildID !== void 0) result2.rebuild = rebuild;\n                    result2.stop = stop;\n                    if (watch.onRebuild) watch.onRebuild(null, result2);\n                  });\n                });\n              }\n            }\n\n            result.stop = stop;\n          }\n\n          callback2(null, result);\n        });\n      };\n\n      if (write && streamIn.isBrowser) throw new Error(\"Cannot enable \\\"write\\\" in the browser\");\n      if (incremental && streamIn.isSync) throw new Error(\"Cannot use \\\"incremental\\\" with a synchronous build\");\n      if (watch && streamIn.isSync) throw new Error(\"Cannot use \\\"watch\\\" with a synchronous build\");\n      sendRequest(refs, request, function (error, response) {\n        if (error) return callback(new Error(error), null);\n\n        if (serve2) {\n          var serveResponse = response;\n          var isStopped = false;\n          refs.ref();\n          var result = {\n            port: serveResponse.port,\n            host: serveResponse.host,\n            wait: serve2.wait,\n            stop: function stop() {\n              if (isStopped) return;\n              isStopped = true;\n              serve2.stop();\n              refs.unref();\n            }\n          };\n          refs.ref();\n          serve2.wait.then(refs.unref, refs.unref);\n          return callback(null, result);\n        }\n\n        return buildResponseToResult(response, callback);\n      });\n    };\n\n    var transform2 = function transform2(_ref3) {\n      var callName = _ref3.callName,\n          refs = _ref3.refs,\n          input = _ref3.input,\n          options = _ref3.options,\n          isTTY = _ref3.isTTY,\n          fs = _ref3.fs,\n          callback = _ref3.callback;\n      var details = createObjectStash();\n\n      var start = function start(inputPath) {\n        try {\n          if (typeof input !== \"string\") throw new Error('The input to \"transform\" must be a string');\n          var flags = flagsForTransformOptions(callName, options, isTTY, transformLogLevelDefault);\n          var request = {\n            command: \"transform\",\n            flags: flags,\n            inputFS: inputPath !== null,\n            input: inputPath !== null ? inputPath : input\n          };\n          sendRequest(refs, request, function (error, response) {\n            if (error) return callback(new Error(error), null);\n            var errors = replaceDetailsInMessages(response.errors, details);\n            var warnings = replaceDetailsInMessages(response.warnings, details);\n            var outstanding = 1;\n\n            var next = function next() {\n              return --outstanding === 0 && callback(null, {\n                warnings: warnings,\n                code: response.code,\n                map: response.map\n              });\n            };\n\n            if (errors.length > 0) return callback(failureErrorWithLog(\"Transform failed\", errors, warnings), null);\n\n            if (response.codeFS) {\n              outstanding++;\n              fs.readFile(response.code, function (err, contents) {\n                if (err !== null) {\n                  callback(err, null);\n                } else {\n                  response.code = contents;\n                  next();\n                }\n              });\n            }\n\n            if (response.mapFS) {\n              outstanding++;\n              fs.readFile(response.map, function (err, contents) {\n                if (err !== null) {\n                  callback(err, null);\n                } else {\n                  response.map = contents;\n                  next();\n                }\n              });\n            }\n\n            next();\n          });\n        } catch (e) {\n          var _flags = [];\n\n          try {\n            pushLogFlags(_flags, options, {}, isTTY, transformLogLevelDefault);\n          } catch (e2) {}\n\n          var error = extractErrorMessageV8(e, streamIn, details, void 0, \"\");\n          sendRequest(refs, {\n            command: \"error\",\n            flags: _flags,\n            error: error\n          }, function () {\n            error.detail = details.load(error.detail);\n            callback(failureErrorWithLog(\"Transform failed\", [error], []), null);\n          });\n        }\n      };\n\n      if (typeof input === \"string\" && input.length > 1024 * 1024) {\n        var next = start;\n\n        start = function start() {\n          return fs.writeFile(input, next);\n        };\n      }\n\n      start(null);\n    };\n\n    var formatMessages2 = function formatMessages2(_ref4) {\n      var callName = _ref4.callName,\n          refs = _ref4.refs,\n          messages = _ref4.messages,\n          options = _ref4.options,\n          callback = _ref4.callback;\n      var result = sanitizeMessages(messages, \"messages\", null, \"\");\n      if (!options) throw new Error(\"Missing second argument in \".concat(callName, \"() call\"));\n      var keys = {};\n      var kind = getFlag(options, keys, \"kind\", mustBeString);\n      var color = getFlag(options, keys, \"color\", mustBeBoolean);\n      var terminalWidth = getFlag(options, keys, \"terminalWidth\", mustBeInteger);\n      checkForInvalidFlags(options, keys, \"in \".concat(callName, \"() call\"));\n      if (kind === void 0) throw new Error(\"Missing \\\"kind\\\" in \".concat(callName, \"() call\"));\n      if (kind !== \"error\" && kind !== \"warning\") throw new Error(\"Expected \\\"kind\\\" to be \\\"error\\\" or \\\"warning\\\" in \".concat(callName, \"() call\"));\n      var request = {\n        command: \"format-msgs\",\n        messages: result,\n        isWarning: kind === \"warning\"\n      };\n      if (color !== void 0) request.color = color;\n      if (terminalWidth !== void 0) request.terminalWidth = terminalWidth;\n      sendRequest(refs, request, function (error, response) {\n        if (error) return callback(new Error(error), null);\n        callback(null, response.messages);\n      });\n    };\n\n    var analyzeMetafile2 = function analyzeMetafile2(_ref5) {\n      var callName = _ref5.callName,\n          refs = _ref5.refs,\n          metafile = _ref5.metafile,\n          options = _ref5.options,\n          callback = _ref5.callback;\n      if (options === void 0) options = {};\n      var keys = {};\n      var color = getFlag(options, keys, \"color\", mustBeBoolean);\n      var verbose = getFlag(options, keys, \"verbose\", mustBeBoolean);\n      checkForInvalidFlags(options, keys, \"in \".concat(callName, \"() call\"));\n      var request = {\n        command: \"analyze-metafile\",\n        metafile: metafile\n      };\n      if (color !== void 0) request.color = color;\n      if (verbose !== void 0) request.verbose = verbose;\n      sendRequest(refs, request, function (error, response) {\n        if (error) return callback(new Error(error), null);\n        callback(null, response.result);\n      });\n    };\n\n    return {\n      readFromStdout: readFromStdout,\n      afterClose: afterClose,\n      service: {\n        buildOrServe: buildOrServe,\n        transform: transform2,\n        formatMessages: formatMessages2,\n        analyzeMetafile: analyzeMetafile2\n      }\n    };\n  }\n\n  function createObjectStash() {\n    var map = new Map();\n    var nextID = 0;\n    return {\n      load: function load(id) {\n        return map.get(id);\n      },\n      store: function store(value) {\n        if (value === void 0) return -1;\n        var id = nextID++;\n        map.set(id, value);\n        return id;\n      }\n    };\n  }\n\n  function extractCallerV8(e, streamIn, ident) {\n    var note;\n    var tried = false;\n    return function () {\n      if (tried) return note;\n      tried = true;\n\n      try {\n        var lines = (e.stack + \"\").split(\"\\n\");\n        lines.splice(1, 1);\n        var location = parseStackLinesV8(streamIn, lines, ident);\n\n        if (location) {\n          note = {\n            text: e.message,\n            location: location\n          };\n          return note;\n        }\n      } catch (e2) {}\n    };\n  }\n\n  function extractErrorMessageV8(e, streamIn, stash, note, pluginName) {\n    var text = \"Internal error\";\n    var location = null;\n\n    try {\n      text = (e && e.message || e) + \"\";\n    } catch (e2) {}\n\n    try {\n      location = parseStackLinesV8(streamIn, (e.stack + \"\").split(\"\\n\"), \"\");\n    } catch (e2) {}\n\n    return {\n      pluginName: pluginName,\n      text: text,\n      location: location,\n      notes: note ? [note] : [],\n      detail: stash ? stash.store(e) : -1\n    };\n  }\n\n  function parseStackLinesV8(streamIn, lines, ident) {\n    var at = \"    at \";\n\n    if (streamIn.readFileSync && !lines[0].startsWith(at) && lines[1].startsWith(at)) {\n      for (var i = 1; i < lines.length; i++) {\n        var line = lines[i];\n        if (!line.startsWith(at)) continue;\n        line = line.slice(at.length);\n\n        while (true) {\n          var match = /^(?:new |async )?\\S+ \\((.*)\\)$/.exec(line);\n\n          if (match) {\n            line = match[1];\n            continue;\n          }\n\n          match = /^eval at \\S+ \\((.*)\\)(?:, \\S+:\\d+:\\d+)?$/.exec(line);\n\n          if (match) {\n            line = match[1];\n            continue;\n          }\n\n          match = /^(\\S+):(\\d+):(\\d+)$/.exec(line);\n\n          if (match) {\n            var contents = void 0;\n\n            try {\n              contents = streamIn.readFileSync(match[1], \"utf8\");\n            } catch (e) {\n              break;\n            }\n\n            var lineText = contents.split(/\\r\\n|\\r|\\n|\\u2028|\\u2029/)[+match[2] - 1] || \"\";\n            var column = +match[3] - 1;\n            var length = lineText.slice(column, column + ident.length) === ident ? ident.length : 0;\n            return {\n              file: match[1],\n              namespace: \"file\",\n              line: +match[2],\n              column: encodeUTF8(lineText.slice(0, column)).length,\n              length: encodeUTF8(lineText.slice(column, column + length)).length,\n              lineText: lineText + \"\\n\" + lines.slice(1).join(\"\\n\"),\n              suggestion: \"\"\n            };\n          }\n\n          break;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  function failureErrorWithLog(text, errors, warnings) {\n    var limit = 5;\n    var summary = errors.length < 1 ? \"\" : \" with \".concat(errors.length, \" error\").concat(errors.length < 2 ? \"\" : \"s\", \":\") + errors.slice(0, limit + 1).map(function (e, i) {\n      if (i === limit) return \"\\n...\";\n      if (!e.location) return \"\\nerror: \".concat(e.text);\n      var _e$location = e.location,\n          file = _e$location.file,\n          line = _e$location.line,\n          column = _e$location.column;\n      var pluginText = e.pluginName ? \"[plugin: \".concat(e.pluginName, \"] \") : \"\";\n      return \"\\n\".concat(file, \":\").concat(line, \":\").concat(column, \": error: \").concat(pluginText).concat(e.text);\n    }).join(\"\");\n    var error = new Error(\"\".concat(text).concat(summary));\n    error.errors = errors;\n    error.warnings = warnings;\n    return error;\n  }\n\n  function replaceDetailsInMessages(messages, stash) {\n    var _iterator18 = _createForOfIteratorHelper(messages),\n        _step18;\n\n    try {\n      for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n        var message = _step18.value;\n        message.detail = stash.load(message.detail);\n      }\n    } catch (err) {\n      _iterator18.e(err);\n    } finally {\n      _iterator18.f();\n    }\n\n    return messages;\n  }\n\n  function sanitizeLocation(location, where) {\n    if (location == null) return null;\n    var keys = {};\n    var file = getFlag(location, keys, \"file\", mustBeString);\n    var namespace = getFlag(location, keys, \"namespace\", mustBeString);\n    var line = getFlag(location, keys, \"line\", mustBeInteger);\n    var column = getFlag(location, keys, \"column\", mustBeInteger);\n    var length = getFlag(location, keys, \"length\", mustBeInteger);\n    var lineText = getFlag(location, keys, \"lineText\", mustBeString);\n    var suggestion = getFlag(location, keys, \"suggestion\", mustBeString);\n    checkForInvalidFlags(location, keys, where);\n    return {\n      file: file || \"\",\n      namespace: namespace || \"\",\n      line: line || 0,\n      column: column || 0,\n      length: length || 0,\n      lineText: lineText || \"\",\n      suggestion: suggestion || \"\"\n    };\n  }\n\n  function sanitizeMessages(messages, property, stash, fallbackPluginName) {\n    var messagesClone = [];\n    var index = 0;\n\n    var _iterator19 = _createForOfIteratorHelper(messages),\n        _step19;\n\n    try {\n      for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n        var message = _step19.value;\n        var keys = {};\n        var pluginName = getFlag(message, keys, \"pluginName\", mustBeString);\n        var text = getFlag(message, keys, \"text\", mustBeString);\n        var location = getFlag(message, keys, \"location\", mustBeObjectOrNull);\n        var notes = getFlag(message, keys, \"notes\", mustBeArray);\n        var detail = getFlag(message, keys, \"detail\", canBeAnything);\n        var where = \"in element \".concat(index, \" of \\\"\").concat(property, \"\\\"\");\n        checkForInvalidFlags(message, keys, where);\n        var notesClone = [];\n\n        if (notes) {\n          var _iterator20 = _createForOfIteratorHelper(notes),\n              _step20;\n\n          try {\n            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n              var note = _step20.value;\n              var noteKeys = {};\n              var noteText = getFlag(note, noteKeys, \"text\", mustBeString);\n              var noteLocation = getFlag(note, noteKeys, \"location\", mustBeObjectOrNull);\n              checkForInvalidFlags(note, noteKeys, where);\n              notesClone.push({\n                text: noteText || \"\",\n                location: sanitizeLocation(noteLocation, where)\n              });\n            }\n          } catch (err) {\n            _iterator20.e(err);\n          } finally {\n            _iterator20.f();\n          }\n        }\n\n        messagesClone.push({\n          pluginName: pluginName || fallbackPluginName,\n          text: text || \"\",\n          location: sanitizeLocation(location, where),\n          notes: notesClone,\n          detail: stash ? stash.store(detail) : -1\n        });\n        index++;\n      }\n    } catch (err) {\n      _iterator19.e(err);\n    } finally {\n      _iterator19.f();\n    }\n\n    return messagesClone;\n  }\n\n  function sanitizeStringArray(values, property) {\n    var result = [];\n\n    var _iterator21 = _createForOfIteratorHelper(values),\n        _step21;\n\n    try {\n      for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n        var value = _step21.value;\n        if (typeof value !== \"string\") throw new Error(\"\".concat(JSON.stringify(property), \" must be an array of strings\"));\n        result.push(value);\n      }\n    } catch (err) {\n      _iterator21.e(err);\n    } finally {\n      _iterator21.f();\n    }\n\n    return result;\n  }\n\n  function convertOutputFiles(_ref6) {\n    var path = _ref6.path,\n        contents = _ref6.contents;\n    var text = null;\n    return {\n      path: path,\n      contents: contents,\n\n      get text() {\n        if (text === null) text = decodeUTF8(contents);\n        return text;\n      }\n\n    };\n  } // lib/npm/browser.ts\n\n\n  var _version = \"0.13.13\";\n\n  var _build = function _build(options) {\n    return ensureServiceIsRunning().build(options);\n  };\n\n  var _serve = function _serve() {\n    throw new Error(\"The \\\"serve\\\" API only works in node\");\n  };\n\n  var _transform = function _transform(input, options) {\n    return ensureServiceIsRunning().transform(input, options);\n  };\n\n  var _formatMessages = function _formatMessages(messages, options) {\n    return ensureServiceIsRunning().formatMessages(messages, options);\n  };\n\n  var _analyzeMetafile = function _analyzeMetafile(metafile, options) {\n    return ensureServiceIsRunning().analyzeMetafile(metafile, options);\n  };\n\n  var _buildSync = function _buildSync() {\n    throw new Error(\"The \\\"buildSync\\\" API only works in node\");\n  };\n\n  var _transformSync = function _transformSync() {\n    throw new Error(\"The \\\"transformSync\\\" API only works in node\");\n  };\n\n  var _formatMessagesSync = function _formatMessagesSync() {\n    throw new Error(\"The \\\"formatMessagesSync\\\" API only works in node\");\n  };\n\n  var _analyzeMetafileSync = function _analyzeMetafileSync() {\n    throw new Error(\"The \\\"analyzeMetafileSync\\\" API only works in node\");\n  };\n\n  var initializePromise;\n  var longLivedService;\n\n  var ensureServiceIsRunning = function ensureServiceIsRunning() {\n    if (longLivedService) return longLivedService;\n    if (initializePromise) throw new Error('You need to wait for the promise returned from \"initialize\" to be resolved before calling this');\n    throw new Error('You need to call \"initialize\" before calling this');\n  };\n\n  var _initialize = function _initialize(options) {\n    options = validateInitializeOptions(options || {});\n    var wasmURL = options.wasmURL;\n    var useWorker = options.worker !== false;\n    if (!wasmURL) throw new Error('Must provide the \"wasmURL\" option');\n    wasmURL += \"\";\n    if (initializePromise) throw new Error('Cannot call \"initialize\" more than once');\n    initializePromise = startRunningService(wasmURL, useWorker);\n    initializePromise.catch(function () {\n      initializePromise = void 0;\n    });\n    return initializePromise;\n  };\n\n  var startRunningService = function startRunningService(wasmURL, useWorker) {\n    return __async(void 0, null, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var res, wasm, code, worker, blob, fn, onmessage, _createChannel, readFromStdout, service;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return fetch(wasmURL);\n\n            case 2:\n              res = _context8.sent;\n\n              if (res.ok) {\n                _context8.next = 5;\n                break;\n              }\n\n              throw new Error(\"Failed to download \".concat(JSON.stringify(wasmURL)));\n\n            case 5:\n              _context8.next = 7;\n              return res.arrayBuffer();\n\n            case 7:\n              wasm = _context8.sent;\n              code = \"{let global={};for(let o=self;o;o=Object.getPrototypeOf(o))for(let k of Object.getOwnPropertyNames(o))if(!(k in global))Object.defineProperty(global,k,{get:()=>self[k]});// Copyright 2018 The Go Authors. All rights reserved.\\n// Use of this source code is governed by a BSD-style\\n// license that can be found in the LICENSE file.\\n\\n(() => {\\n\\t// Map multiple JavaScript environments to a single common API,\\n\\t// preferring web standards over Node.js API.\\n\\t//\\n\\t// Environments considered:\\n\\t// - Browsers\\n\\t// - Node.js\\n\\t// - Electron\\n\\t// - Parcel\\n\\t// - Webpack\\n\\n\\tif (typeof global !== \\\"undefined\\\") {\\n\\t\\t// global already exists\\n\\t} else if (typeof window !== \\\"undefined\\\") {\\n\\t\\twindow.global = window;\\n\\t} else if (typeof self !== \\\"undefined\\\") {\\n\\t\\tself.global = self;\\n\\t} else {\\n\\t\\tthrow new Error(\\\"cannot export Go (neither global, window nor self is defined)\\\");\\n\\t}\\n\\n\\tif (!global.require && typeof require !== \\\"undefined\\\") {\\n\\t\\tglobal.require = require;\\n\\t}\\n\\n\\tif (!global.fs && global.require) {\\n\\t\\tconst fs = require(\\\"fs\\\");\\n\\t\\tif (typeof fs === \\\"object\\\" && fs !== null && Object.keys(fs).length !== 0) {\\n\\t\\t\\t\\n    global.fs = Object.assign({}, fs, {\\n      // Hack around a Unicode bug in node: https://github.com/nodejs/node/issues/24550\\n      write(fd, buf, offset, length, position, callback) {\\n        if (offset === 0 && length === buf.length && position === null) {\\n          if (fd === process.stdout.fd) {\\n            try {\\n              process.stdout.write(buf, err => err ? callback(err, 0, null) : callback(null, length, buf));\\n            } catch (err) {\\n              callback(err, 0, null);\\n            }\\n            return;\\n          }\\n          if (fd === process.stderr.fd) {\\n            try {\\n              process.stderr.write(buf, err => err ? callback(err, 0, null) : callback(null, length, buf));\\n            } catch (err) {\\n              callback(err, 0, null);\\n            }\\n            return;\\n          }\\n        }\\n        fs.write(fd, buf, offset, length, position, callback);\\n      },\\n    });\\n  \\n\\t\\t}\\n\\t}\\n\\n\\tconst enosys = () => {\\n\\t\\tconst err = new Error(\\\"not implemented\\\");\\n\\t\\terr.code = \\\"ENOSYS\\\";\\n\\t\\treturn err;\\n\\t};\\n\\n\\tif (!global.fs) {\\n\\t\\tlet outputBuf = \\\"\\\";\\n\\t\\tglobal.fs = {\\n\\t\\t\\tconstants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 }, // unused\\n\\t\\t\\twriteSync(fd, buf) {\\n\\t\\t\\t\\toutputBuf += decoder.decode(buf);\\n\\t\\t\\t\\tconst nl = outputBuf.lastIndexOf(\\\"\\\\n\\\");\\n\\t\\t\\t\\tif (nl != -1) {\\n\\t\\t\\t\\t\\tconsole.log(outputBuf.substr(0, nl));\\n\\t\\t\\t\\t\\toutputBuf = outputBuf.substr(nl + 1);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn buf.length;\\n\\t\\t\\t},\\n\\t\\t\\twrite(fd, buf, offset, length, position, callback) {\\n\\t\\t\\t\\tif (offset !== 0 || length !== buf.length || position !== null) {\\n\\t\\t\\t\\t\\tcallback(enosys());\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tconst n = this.writeSync(fd, buf);\\n\\t\\t\\t\\tcallback(null, n);\\n\\t\\t\\t},\\n\\t\\t\\tchmod(path, mode, callback) { callback(enosys()); },\\n\\t\\t\\tchown(path, uid, gid, callback) { callback(enosys()); },\\n\\t\\t\\tclose(fd, callback) { callback(enosys()); },\\n\\t\\t\\tfchmod(fd, mode, callback) { callback(enosys()); },\\n\\t\\t\\tfchown(fd, uid, gid, callback) { callback(enosys()); },\\n\\t\\t\\tfstat(fd, callback) { callback(enosys()); },\\n\\t\\t\\tfsync(fd, callback) { callback(null); },\\n\\t\\t\\tftruncate(fd, length, callback) { callback(enosys()); },\\n\\t\\t\\tlchown(path, uid, gid, callback) { callback(enosys()); },\\n\\t\\t\\tlink(path, link, callback) { callback(enosys()); },\\n\\t\\t\\tlstat(path, callback) { callback(enosys()); },\\n\\t\\t\\tmkdir(path, perm, callback) { callback(enosys()); },\\n\\t\\t\\topen(path, flags, mode, callback) { callback(enosys()); },\\n\\t\\t\\tread(fd, buffer, offset, length, position, callback) { callback(enosys()); },\\n\\t\\t\\treaddir(path, callback) { callback(enosys()); },\\n\\t\\t\\treadlink(path, callback) { callback(enosys()); },\\n\\t\\t\\trename(from, to, callback) { callback(enosys()); },\\n\\t\\t\\trmdir(path, callback) { callback(enosys()); },\\n\\t\\t\\tstat(path, callback) { callback(enosys()); },\\n\\t\\t\\tsymlink(path, link, callback) { callback(enosys()); },\\n\\t\\t\\ttruncate(path, length, callback) { callback(enosys()); },\\n\\t\\t\\tunlink(path, callback) { callback(enosys()); },\\n\\t\\t\\tutimes(path, atime, mtime, callback) { callback(enosys()); },\\n\\t\\t};\\n\\t}\\n\\n\\tif (!global.process) {\\n\\t\\tglobal.process = {\\n\\t\\t\\tgetuid() { return -1; },\\n\\t\\t\\tgetgid() { return -1; },\\n\\t\\t\\tgeteuid() { return -1; },\\n\\t\\t\\tgetegid() { return -1; },\\n\\t\\t\\tgetgroups() { throw enosys(); },\\n\\t\\t\\tpid: -1,\\n\\t\\t\\tppid: -1,\\n\\t\\t\\tumask() { throw enosys(); },\\n\\t\\t\\tcwd() { throw enosys(); },\\n\\t\\t\\tchdir() { throw enosys(); },\\n\\t\\t}\\n\\t}\\n\\n\\tif (!global.crypto && global.require) {\\n\\t\\tconst nodeCrypto = require(\\\"crypto\\\");\\n\\t\\tglobal.crypto = {\\n\\t\\t\\tgetRandomValues(b) {\\n\\t\\t\\t\\tnodeCrypto.randomFillSync(b);\\n\\t\\t\\t},\\n\\t\\t};\\n\\t}\\n\\tif (!global.crypto) {\\n\\t\\tthrow new Error(\\\"global.crypto is not available, polyfill required (getRandomValues only)\\\");\\n\\t}\\n\\n\\tif (!global.performance) {\\n\\t\\tglobal.performance = {\\n\\t\\t\\tnow() {\\n\\t\\t\\t\\tconst [sec, nsec] = process.hrtime();\\n\\t\\t\\t\\treturn sec * 1000 + nsec / 1000000;\\n\\t\\t\\t},\\n\\t\\t};\\n\\t}\\n\\n\\tif (!global.TextEncoder && global.require) {\\n\\t\\tglobal.TextEncoder = require(\\\"util\\\").TextEncoder;\\n\\t}\\n\\tif (!global.TextEncoder) {\\n\\t\\tthrow new Error(\\\"global.TextEncoder is not available, polyfill required\\\");\\n\\t}\\n\\n\\tif (!global.TextDecoder && global.require) {\\n\\t\\tglobal.TextDecoder = require(\\\"util\\\").TextDecoder;\\n\\t}\\n\\tif (!global.TextDecoder) {\\n\\t\\tthrow new Error(\\\"global.TextDecoder is not available, polyfill required\\\");\\n\\t}\\n\\n\\t// End of polyfills for common API.\\n\\n\\tconst encoder = new TextEncoder(\\\"utf-8\\\");\\n\\tconst decoder = new TextDecoder(\\\"utf-8\\\");\\n\\n\\tglobal.Go = class {\\n\\t\\tconstructor() {\\n\\t\\t\\tthis.argv = [\\\"js\\\"];\\n\\t\\t\\tthis.env = {};\\n\\t\\t\\tthis.exit = (code) => {\\n\\t\\t\\t\\tif (code !== 0) {\\n\\t\\t\\t\\t\\tconsole.warn(\\\"exit code:\\\", code);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t\\tthis._exitPromise = new Promise((resolve) => {\\n\\t\\t\\t\\tthis._resolveExitPromise = resolve;\\n\\t\\t\\t});\\n\\t\\t\\tthis._pendingEvent = null;\\n\\t\\t\\tthis._scheduledTimeouts = new Map();\\n\\t\\t\\tthis._nextCallbackTimeoutID = 1;\\n\\n\\t\\t\\tconst setInt64 = (addr, v) => {\\n\\t\\t\\t\\tthis.mem.setUint32(addr + 0, v, true);\\n\\t\\t\\t\\tthis.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst getInt64 = (addr) => {\\n\\t\\t\\t\\tconst low = this.mem.getUint32(addr + 0, true);\\n\\t\\t\\t\\tconst high = this.mem.getInt32(addr + 4, true);\\n\\t\\t\\t\\treturn low + high * 4294967296;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst loadValue = (addr) => {\\n\\t\\t\\t\\tconst f = this.mem.getFloat64(addr, true);\\n\\t\\t\\t\\tif (f === 0) {\\n\\t\\t\\t\\t\\treturn undefined;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (!isNaN(f)) {\\n\\t\\t\\t\\t\\treturn f;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tconst id = this.mem.getUint32(addr, true);\\n\\t\\t\\t\\treturn this._values[id];\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst storeValue = (addr, v) => {\\n\\t\\t\\t\\tconst nanHead = 0x7FF80000;\\n\\n\\t\\t\\t\\tif (typeof v === \\\"number\\\" && v !== 0) {\\n\\t\\t\\t\\t\\tif (isNaN(v)) {\\n\\t\\t\\t\\t\\t\\tthis.mem.setUint32(addr + 4, nanHead, true);\\n\\t\\t\\t\\t\\t\\tthis.mem.setUint32(addr, 0, true);\\n\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.mem.setFloat64(addr, v, true);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (v === undefined) {\\n\\t\\t\\t\\t\\tthis.mem.setFloat64(addr, 0, true);\\n\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlet id = this._ids.get(v);\\n\\t\\t\\t\\tif (id === undefined) {\\n\\t\\t\\t\\t\\tid = this._idPool.pop();\\n\\t\\t\\t\\t\\tif (id === undefined) {\\n\\t\\t\\t\\t\\t\\tid = this._values.length;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis._values[id] = v;\\n\\t\\t\\t\\t\\tthis._goRefCounts[id] = 0;\\n\\t\\t\\t\\t\\tthis._ids.set(v, id);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis._goRefCounts[id]++;\\n\\t\\t\\t\\tlet typeFlag = 0;\\n\\t\\t\\t\\tswitch (typeof v) {\\n\\t\\t\\t\\t\\tcase \\\"object\\\":\\n\\t\\t\\t\\t\\t\\tif (v !== null) {\\n\\t\\t\\t\\t\\t\\t\\ttypeFlag = 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase \\\"string\\\":\\n\\t\\t\\t\\t\\t\\ttypeFlag = 2;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase \\\"symbol\\\":\\n\\t\\t\\t\\t\\t\\ttypeFlag = 3;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase \\\"function\\\":\\n\\t\\t\\t\\t\\t\\ttypeFlag = 4;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.mem.setUint32(addr + 4, nanHead | typeFlag, true);\\n\\t\\t\\t\\tthis.mem.setUint32(addr, id, true);\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst loadSlice = (addr) => {\\n\\t\\t\\t\\tconst array = getInt64(addr + 0);\\n\\t\\t\\t\\tconst len = getInt64(addr + 8);\\n\\t\\t\\t\\treturn new Uint8Array(this._inst.exports.mem.buffer, array, len);\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst loadSliceOfValues = (addr) => {\\n\\t\\t\\t\\tconst array = getInt64(addr + 0);\\n\\t\\t\\t\\tconst len = getInt64(addr + 8);\\n\\t\\t\\t\\tconst a = new Array(len);\\n\\t\\t\\t\\tfor (let i = 0; i < len; i++) {\\n\\t\\t\\t\\t\\ta[i] = loadValue(array + i * 8);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn a;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst loadString = (addr) => {\\n\\t\\t\\t\\tconst saddr = getInt64(addr + 0);\\n\\t\\t\\t\\tconst len = getInt64(addr + 8);\\n\\t\\t\\t\\treturn decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst timeOrigin = Date.now() - performance.now();\\n\\t\\t\\tthis.importObject = {\\n\\t\\t\\t\\tgo: {\\n\\t\\t\\t\\t\\t// Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\\n\\t\\t\\t\\t\\t// may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\\n\\t\\t\\t\\t\\t// function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\\n\\t\\t\\t\\t\\t// This changes the SP, thus we have to update the SP used by the imported function.\\n\\n\\t\\t\\t\\t\\t// func wasmExit(code int32)\\n\\t\\t\\t\\t\\t\\\"runtime.wasmExit\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst code = this.mem.getInt32(sp + 8, true);\\n\\t\\t\\t\\t\\t\\tthis.exited = true;\\n\\t\\t\\t\\t\\t\\tdelete this._inst;\\n\\t\\t\\t\\t\\t\\tdelete this._values;\\n\\t\\t\\t\\t\\t\\tdelete this._goRefCounts;\\n\\t\\t\\t\\t\\t\\tdelete this._ids;\\n\\t\\t\\t\\t\\t\\tdelete this._idPool;\\n\\t\\t\\t\\t\\t\\tthis.exit(code);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\\n\\t\\t\\t\\t\\t\\\"runtime.wasmWrite\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst fd = getInt64(sp + 8);\\n\\t\\t\\t\\t\\t\\tconst p = getInt64(sp + 16);\\n\\t\\t\\t\\t\\t\\tconst n = this.mem.getInt32(sp + 24, true);\\n\\t\\t\\t\\t\\t\\tfs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func resetMemoryDataView()\\n\\t\\t\\t\\t\\t\\\"runtime.resetMemoryDataView\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tthis.mem = new DataView(this._inst.exports.mem.buffer);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func nanotime1() int64\\n\\t\\t\\t\\t\\t\\\"runtime.nanotime1\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tsetInt64(sp + 8, (timeOrigin + performance.now()) * 1000000);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func walltime() (sec int64, nsec int32)\\n\\t\\t\\t\\t\\t\\\"runtime.walltime\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst msec = (new Date).getTime();\\n\\t\\t\\t\\t\\t\\tsetInt64(sp + 8, msec / 1000);\\n\\t\\t\\t\\t\\t\\tthis.mem.setInt32(sp + 16, (msec % 1000) * 1000000, true);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func scheduleTimeoutEvent(delay int64) int32\\n\\t\\t\\t\\t\\t\\\"runtime.scheduleTimeoutEvent\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst id = this._nextCallbackTimeoutID;\\n\\t\\t\\t\\t\\t\\tthis._nextCallbackTimeoutID++;\\n\\t\\t\\t\\t\\t\\tthis._scheduledTimeouts.set(id, setTimeout(\\n\\t\\t\\t\\t\\t\\t\\t() => {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis._resume();\\n\\t\\t\\t\\t\\t\\t\\t\\twhile (this._scheduledTimeouts.has(id)) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// for some reason Go failed to register the timeout event, log and try again\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// (temporary workaround for https://github.com/golang/go/issues/28975)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tconsole.warn(\\\"scheduleTimeoutEvent: missed timeout event\\\");\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tthis._resume();\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\tgetInt64(sp + 8) + 1, // setTimeout has been seen to fire up to 1 millisecond early\\n\\t\\t\\t\\t\\t\\t));\\n\\t\\t\\t\\t\\t\\tthis.mem.setInt32(sp + 16, id, true);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func clearTimeoutEvent(id int32)\\n\\t\\t\\t\\t\\t\\\"runtime.clearTimeoutEvent\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst id = this.mem.getInt32(sp + 8, true);\\n\\t\\t\\t\\t\\t\\tclearTimeout(this._scheduledTimeouts.get(id));\\n\\t\\t\\t\\t\\t\\tthis._scheduledTimeouts.delete(id);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func getRandomData(r []byte)\\n\\t\\t\\t\\t\\t\\\"runtime.getRandomData\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tcrypto.getRandomValues(loadSlice(sp + 8));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func finalizeRef(v ref)\\n\\t\\t\\t\\t\\t\\\"syscall/js.finalizeRef\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst id = this.mem.getUint32(sp + 8, true);\\n\\t\\t\\t\\t\\t\\tthis._goRefCounts[id]--;\\n\\t\\t\\t\\t\\t\\tif (this._goRefCounts[id] === 0) {\\n\\t\\t\\t\\t\\t\\t\\tconst v = this._values[id];\\n\\t\\t\\t\\t\\t\\t\\tthis._values[id] = null;\\n\\t\\t\\t\\t\\t\\t\\tthis._ids.delete(v);\\n\\t\\t\\t\\t\\t\\t\\tthis._idPool.push(id);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func stringVal(value string) ref\\n\\t\\t\\t\\t\\t\\\"syscall/js.stringVal\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tstoreValue(sp + 24, loadString(sp + 8));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueGet(v ref, p string) ref\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueGet\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\\n\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\tstoreValue(sp + 32, result);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueSet(v ref, p string, x ref)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueSet\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tReflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueDelete(v ref, p string)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueDelete\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tReflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueIndex(v ref, i int) ref\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueIndex\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tstoreValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// valueSetIndex(v ref, i int, x ref)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueSetIndex\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tReflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueCall(v ref, m string, args []ref) (ref, bool)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueCall\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tconst v = loadValue(sp + 8);\\n\\t\\t\\t\\t\\t\\t\\tconst m = Reflect.get(v, loadString(sp + 16));\\n\\t\\t\\t\\t\\t\\t\\tconst args = loadSliceOfValues(sp + 32);\\n\\t\\t\\t\\t\\t\\t\\tconst result = Reflect.apply(m, v, args);\\n\\t\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\t\\tstoreValue(sp + 56, result);\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 64, 1);\\n\\t\\t\\t\\t\\t\\t} catch (err) {\\n\\t\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\t\\tstoreValue(sp + 56, err);\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 64, 0);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueInvoke(v ref, args []ref) (ref, bool)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueInvoke\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tconst v = loadValue(sp + 8);\\n\\t\\t\\t\\t\\t\\t\\tconst args = loadSliceOfValues(sp + 16);\\n\\t\\t\\t\\t\\t\\t\\tconst result = Reflect.apply(v, undefined, args);\\n\\t\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\t\\tstoreValue(sp + 40, result);\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 1);\\n\\t\\t\\t\\t\\t\\t} catch (err) {\\n\\t\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\t\\tstoreValue(sp + 40, err);\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 0);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueNew(v ref, args []ref) (ref, bool)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueNew\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\tconst v = loadValue(sp + 8);\\n\\t\\t\\t\\t\\t\\t\\tconst args = loadSliceOfValues(sp + 16);\\n\\t\\t\\t\\t\\t\\t\\tconst result = Reflect.construct(v, args);\\n\\t\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\t\\tstoreValue(sp + 40, result);\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 1);\\n\\t\\t\\t\\t\\t\\t} catch (err) {\\n\\t\\t\\t\\t\\t\\t\\tsp = this._inst.exports.getsp() >>> 0; // see comment above\\n\\t\\t\\t\\t\\t\\t\\tstoreValue(sp + 40, err);\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 0);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueLength(v ref) int\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueLength\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tsetInt64(sp + 16, parseInt(loadValue(sp + 8).length));\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// valuePrepareString(v ref) (ref, int)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valuePrepareString\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst str = encoder.encode(String(loadValue(sp + 8)));\\n\\t\\t\\t\\t\\t\\tstoreValue(sp + 16, str);\\n\\t\\t\\t\\t\\t\\tsetInt64(sp + 24, str.length);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// valueLoadString(v ref, b []byte)\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueLoadString\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst str = loadValue(sp + 8);\\n\\t\\t\\t\\t\\t\\tloadSlice(sp + 16).set(str);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func valueInstanceOf(v ref, t ref) bool\\n\\t\\t\\t\\t\\t\\\"syscall/js.valueInstanceOf\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 24, (loadValue(sp + 8) instanceof loadValue(sp + 16)) ? 1 : 0);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func copyBytesToGo(dst []byte, src ref) (int, bool)\\n\\t\\t\\t\\t\\t\\\"syscall/js.copyBytesToGo\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst dst = loadSlice(sp + 8);\\n\\t\\t\\t\\t\\t\\tconst src = loadValue(sp + 32);\\n\\t\\t\\t\\t\\t\\tif (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 0);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tconst toCopy = src.subarray(0, dst.length);\\n\\t\\t\\t\\t\\t\\tdst.set(toCopy);\\n\\t\\t\\t\\t\\t\\tsetInt64(sp + 40, toCopy.length);\\n\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 1);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t// func copyBytesToJS(dst ref, src []byte) (int, bool)\\n\\t\\t\\t\\t\\t\\\"syscall/js.copyBytesToJS\\\": (sp) => {\\n\\t\\t\\t\\t\\t\\tsp >>>= 0;\\n\\t\\t\\t\\t\\t\\tconst dst = loadValue(sp + 8);\\n\\t\\t\\t\\t\\t\\tconst src = loadSlice(sp + 16);\\n\\t\\t\\t\\t\\t\\tif (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\\n\\t\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 0);\\n\\t\\t\\t\\t\\t\\t\\treturn;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tconst toCopy = src.subarray(0, dst.length);\\n\\t\\t\\t\\t\\t\\tdst.set(toCopy);\\n\\t\\t\\t\\t\\t\\tsetInt64(sp + 40, toCopy.length);\\n\\t\\t\\t\\t\\t\\tthis.mem.setUint8(sp + 48, 1);\\n\\t\\t\\t\\t\\t},\\n\\n\\t\\t\\t\\t\\t\\\"debug\\\": (value) => {\\n\\t\\t\\t\\t\\t\\tconsole.log(value);\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tasync run(instance) {\\n\\t\\t\\tif (!(instance instanceof WebAssembly.Instance)) {\\n\\t\\t\\t\\tthrow new Error(\\\"Go.run: WebAssembly.Instance expected\\\");\\n\\t\\t\\t}\\n\\t\\t\\tthis._inst = instance;\\n\\t\\t\\tthis.mem = new DataView(this._inst.exports.mem.buffer);\\n\\t\\t\\tthis._values = [ // JS values that Go currently has references to, indexed by reference id\\n\\t\\t\\t\\tNaN,\\n\\t\\t\\t\\t0,\\n\\t\\t\\t\\tnull,\\n\\t\\t\\t\\ttrue,\\n\\t\\t\\t\\tfalse,\\n\\t\\t\\t\\tglobal,\\n\\t\\t\\t\\tthis,\\n\\t\\t\\t];\\n\\t\\t\\tthis._goRefCounts = new Array(this._values.length).fill(Infinity); // number of references that Go has to a JS value, indexed by reference id\\n\\t\\t\\tthis._ids = new Map([ // mapping from JS values to reference ids\\n\\t\\t\\t\\t[0, 1],\\n\\t\\t\\t\\t[null, 2],\\n\\t\\t\\t\\t[true, 3],\\n\\t\\t\\t\\t[false, 4],\\n\\t\\t\\t\\t[global, 5],\\n\\t\\t\\t\\t[this, 6],\\n\\t\\t\\t]);\\n\\t\\t\\tthis._idPool = [];   // unused ids that have been garbage collected\\n\\t\\t\\tthis.exited = false; // whether the Go program has exited\\n\\n\\t\\t\\t// Pass command line arguments and environment variables to WebAssembly by writing them to the linear memory.\\n\\t\\t\\tlet offset = 4096;\\n\\n\\t\\t\\tconst strPtr = (str) => {\\n\\t\\t\\t\\tconst ptr = offset;\\n\\t\\t\\t\\tconst bytes = encoder.encode(str + \\\"\\\\0\\\");\\n\\t\\t\\t\\tnew Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\\n\\t\\t\\t\\toffset += bytes.length;\\n\\t\\t\\t\\tif (offset % 8 !== 0) {\\n\\t\\t\\t\\t\\toffset += 8 - (offset % 8);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn ptr;\\n\\t\\t\\t};\\n\\n\\t\\t\\tconst argc = this.argv.length;\\n\\n\\t\\t\\tconst argvPtrs = [];\\n\\t\\t\\tthis.argv.forEach((arg) => {\\n\\t\\t\\t\\targvPtrs.push(strPtr(arg));\\n\\t\\t\\t});\\n\\t\\t\\targvPtrs.push(0);\\n\\n\\t\\t\\tconst keys = Object.keys(this.env).sort();\\n\\t\\t\\tkeys.forEach((key) => {\\n\\t\\t\\t\\targvPtrs.push(strPtr(`${key}=${this.env[key]}`));\\n\\t\\t\\t});\\n\\t\\t\\targvPtrs.push(0);\\n\\n\\t\\t\\tconst argv = offset;\\n\\t\\t\\targvPtrs.forEach((ptr) => {\\n\\t\\t\\t\\tthis.mem.setUint32(offset, ptr, true);\\n\\t\\t\\t\\tthis.mem.setUint32(offset + 4, 0, true);\\n\\t\\t\\t\\toffset += 8;\\n\\t\\t\\t});\\n\\n\\t\\t\\t// The linker guarantees global data starts from at least wasmMinDataAddr.\\n\\t\\t\\t// Keep in sync with cmd/link/internal/ld/data.go:wasmMinDataAddr.\\n\\t\\t\\tconst wasmMinDataAddr = 4096 + 4096;\\n\\t\\t\\tif (offset >= wasmMinDataAddr) {\\n\\t\\t\\t\\tthrow new Error(\\\"command line too long\\\");\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis._inst.exports.run(argc, argv);\\n\\t\\t\\tif (this.exited) {\\n\\t\\t\\t\\tthis._resolveExitPromise();\\n\\t\\t\\t}\\n\\t\\t\\tawait this._exitPromise;\\n\\t\\t}\\n\\n\\t\\t_resume() {\\n\\t\\t\\tif (this.exited) {\\n\\t\\t\\t\\tthrow new Error(\\\"Go program has already exited\\\");\\n\\t\\t\\t}\\n\\t\\t\\tthis._inst.exports.resume();\\n\\t\\t\\tif (this.exited) {\\n\\t\\t\\t\\tthis._resolveExitPromise();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t_makeFuncWrapper(id) {\\n\\t\\t\\tconst go = this;\\n\\t\\t\\treturn function () {\\n\\t\\t\\t\\tconst event = { id: id, this: this, args: arguments };\\n\\t\\t\\t\\tgo._pendingEvent = event;\\n\\t\\t\\t\\tgo._resume();\\n\\t\\t\\t\\treturn event.result;\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n\\n\\tif (\\n\\t\\ttypeof module !== \\\"undefined\\\" &&\\n\\t\\tglobal.require &&\\n\\t\\tglobal.require.main === module &&\\n\\t\\tglobal.process &&\\n\\t\\tglobal.process.versions &&\\n\\t\\t!global.process.versions.electron\\n\\t) {\\n\\t\\tif (process.argv.length < 3) {\\n\\t\\t\\tconsole.error(\\\"usage: go_js_wasm_exec [wasm binary] [arguments]\\\");\\n\\t\\t\\tprocess.exit(1);\\n\\t\\t}\\n\\n\\t\\tconst go = new Go();\\n\\t\\tgo.argv = process.argv.slice(2);\\n\\t\\tgo.env = Object.assign({ TMPDIR: require(\\\"os\\\").tmpdir() }, process.env);\\n\\t\\tgo.exit = process.exit;\\n\\t\\tWebAssembly.instantiate(fs.readFileSync(process.argv[2]), go.importObject).then((result) => {\\n\\t\\t\\tprocess.on(\\\"exit\\\", (code) => { // Node.js exits if no event handler is pending\\n\\t\\t\\t\\tif (code === 0 && !go.exited) {\\n\\t\\t\\t\\t\\t// deadlock, make Go print error and stack traces\\n\\t\\t\\t\\t\\tgo._pendingEvent = { id: 0 };\\n\\t\\t\\t\\t\\tgo._resume();\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t\\treturn go.run(result.instance);\\n\\t\\t}).catch((err) => {\\n\\t\\t\\tconsole.error(err);\\n\\t\\t\\tprocess.exit(1);\\n\\t\\t});\\n\\t}\\n})();\\nonmessage = ({ data: wasm }) => {\\n  let decoder = new TextDecoder();\\n  let fs = global.fs;\\n  let stderr = \\\"\\\";\\n  fs.writeSync = (fd, buffer) => {\\n    if (fd === 1) {\\n      postMessage(buffer);\\n    } else if (fd === 2) {\\n      stderr += decoder.decode(buffer);\\n      let parts = stderr.split(\\\"\\\\n\\\");\\n      if (parts.length > 1)\\n        console.log(parts.slice(0, -1).join(\\\"\\\\n\\\"));\\n      stderr = parts[parts.length - 1];\\n    } else {\\n      throw new Error(\\\"Bad write\\\");\\n    }\\n    return buffer.length;\\n  };\\n  let stdin = [];\\n  let resumeStdin;\\n  let stdinPos = 0;\\n  onmessage = ({ data }) => {\\n    if (data.length > 0) {\\n      stdin.push(data);\\n      if (resumeStdin)\\n        resumeStdin();\\n    }\\n  };\\n  fs.read = (fd, buffer, offset, length, position, callback) => {\\n    if (fd !== 0 || offset !== 0 || length !== buffer.length || position !== null) {\\n      throw new Error(\\\"Bad read\\\");\\n    }\\n    if (stdin.length === 0) {\\n      resumeStdin = () => fs.read(fd, buffer, offset, length, position, callback);\\n      return;\\n    }\\n    let first = stdin[0];\\n    let count = Math.max(0, Math.min(length, first.length - stdinPos));\\n    buffer.set(first.subarray(stdinPos, stdinPos + count), offset);\\n    stdinPos += count;\\n    if (stdinPos === first.length) {\\n      stdin.shift();\\n      stdinPos = 0;\\n    }\\n    callback(null, count);\\n  };\\n  let go = new global.Go();\\n  go.argv = [\\\"\\\", `--service=${\\\"0.13.13\\\"}`];\\n  WebAssembly.instantiate(wasm, go.importObject).then(({ instance }) => go.run(instance));\\n};}\";\n\n              if (useWorker) {\n                blob = new Blob([code], {\n                  type: \"text/javascript\"\n                });\n                worker = new Worker(URL.createObjectURL(blob));\n              } else {\n                fn = new Function(\"postMessage\", code + \"var onmessage; return m => onmessage(m)\");\n                onmessage = fn(function (data) {\n                  return worker.onmessage({\n                    data: data\n                  });\n                });\n                worker = {\n                  onmessage: null,\n                  postMessage: function postMessage(data) {\n                    return onmessage({\n                      data: data\n                    });\n                  },\n                  terminate: function terminate() {}\n                };\n              }\n\n              worker.postMessage(wasm);\n\n              worker.onmessage = function (_ref7) {\n                var data = _ref7.data;\n                return readFromStdout(data);\n              };\n\n              _createChannel = createChannel({\n                writeToStdin: function writeToStdin(bytes) {\n                  worker.postMessage(bytes);\n                },\n                isSync: false,\n                isBrowser: true\n              }), readFromStdout = _createChannel.readFromStdout, service = _createChannel.service;\n              longLivedService = {\n                build: function build(options) {\n                  return new Promise(function (resolve, reject) {\n                    return service.buildOrServe({\n                      callName: \"build\",\n                      refs: null,\n                      serveOptions: null,\n                      options: options,\n                      isTTY: false,\n                      defaultWD: \"/\",\n                      callback: function callback(err, res2) {\n                        return err ? reject(err) : resolve(res2);\n                      }\n                    });\n                  });\n                },\n                transform: function transform(input, options) {\n                  return new Promise(function (resolve, reject) {\n                    return service.transform({\n                      callName: \"transform\",\n                      refs: null,\n                      input: input,\n                      options: options || {},\n                      isTTY: false,\n                      fs: {\n                        readFile: function readFile(_, callback) {\n                          callback(new Error(\"Internal error\"), null);\n                        },\n                        writeFile: function writeFile(_, callback) {\n                          callback(null);\n                        }\n                      },\n                      callback: function callback(err, res2) {\n                        return err ? reject(err) : resolve(res2);\n                      }\n                    });\n                  });\n                },\n                formatMessages: function formatMessages(messages, options) {\n                  return new Promise(function (resolve, reject) {\n                    return service.formatMessages({\n                      callName: \"formatMessages\",\n                      refs: null,\n                      messages: messages,\n                      options: options,\n                      callback: function callback(err, res2) {\n                        return err ? reject(err) : resolve(res2);\n                      }\n                    });\n                  });\n                },\n                analyzeMetafile: function analyzeMetafile(metafile, options) {\n                  return new Promise(function (resolve, reject) {\n                    return service.analyzeMetafile({\n                      callName: \"analyzeMetafile\",\n                      refs: null,\n                      metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\n                      options: options,\n                      callback: function callback(err, res2) {\n                        return err ? reject(err) : resolve(res2);\n                      }\n                    });\n                  });\n                }\n              };\n\n            case 14:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee6);\n    }));\n  };\n})(typeof exports === \"object\" ? exports : (typeof self !== \"undefined\" ? self : this).esbuild = {});","map":{"version":3,"sources":["C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/esbuild-wasm/lib/browser.js"],"names":["exports","__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__markAsModule","target","__export","all","name","get","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","throw","x","done","then","apply","analyzeMetafile","analyzeMetafileSync","build","buildSync","formatMessages","formatMessagesSync","initialize","serve","transform","transformSync","version","encodePacket","packet","visit","bb","write8","write32","write","encodeUTF8","Uint8Array","Array","length","item","keys","ByteBuffer","id","isRequest","writeUInt32LE","buf","len","subarray","decodePacket","bytes","read8","read32","decodeUTF8","read","count","value2","i","push","Error","ptr","delta","clone","set","offset","_write","_read","readUInt32LE","TextEncoder","TextDecoder","encoder","decoder","text","encode","decode","Buffer","buffer","from","byteOffset","byteLength","toString","validateTarget","indexOf","canBeAnything","mustBeBoolean","mustBeBooleanOrObject","isArray","mustBeString","mustBeRegExp","RegExp","mustBeInteger","mustBeFunction","mustBeArray","mustBeObject","mustBeArrayOrRecord","mustBeObjectOrNull","mustBeStringOrBoolean","mustBeStringOrObject","mustBeStringOrArray","mustBeStringOrUint8Array","getFlag","object","mustBeFn","mustBe","checkForInvalidFlags","where","validateInitializeOptions","options","create","wasmURL","worker","pushLogFlags","flags","isTTY","logLevelDefault","color","logLevel","logLimit","pushCommonFlags","legalComments","sourceRoot","sourcesContent","format","globalName","minify","minifySyntax","minifyWhitespace","minifyIdentifiers","charset","treeShaking","ignoreAnnotations","jsx","jsxFactory","jsxFragment","define","pure","keepNames","map","join","fn","flagsForBuildOptions","callName","writeDefault","_a","entries","stdinContents","stdinResolveDir","watchMode","sourcemap","bundle","watch","splitting","preserveSymlinks","metafile","outfile","outdir","outbase","platform","tsconfig","resolveExtensions","nodePathsInput","mainFields","conditions","external","loader","outExtension","publicPath","entryNames","chunkNames","assetNames","inject","banner","footer","entryPoints","absWorkingDir","stdin","allowOverwrite","incremental","plugins","watchKeys","onRebuild","values","type","path","ext","entryPoint","stdinKeys","contents","resolveDir","sourcefile","loader2","nodePaths","flagsForTransformOptions","tsconfigRaw","JSON","stringify","createChannel","streamIn","responseCallbacks","Map","pluginCallbacks","watchCallbacks","serveCallbacks","nextServeID","isClosed","nextRequestID","nextBuildKey","stdout","stdoutUsed","readFromStdout","chunk","limit","swap","handleIncomingPacket","copyWithin","afterClose","callback","clear","callbacks","onWait","console","error","sendRequest","refs","response","unref","ref","writeToStdin","sendResponse","handleRequest","request","command","serveID","onRequest","args","watchID","err","errors","extractErrorMessageV8","isFirstPacket","binaryVersion","String","fromCharCode","delete","handlePlugins","initialOptions","buildKey","stash","onStartCallbacks","onEndCallbacks","onResolveCallbacks","onLoadCallbacks","nextCallbackID","requestPlugins","setup","plugin","onResolve","onLoad","promise","onStart","callback2","registeredText","registeredNote","extractCallerV8","note","onEnd","keys2","filter","namespace","source","ok","pluginName","warnings","_0","result","sanitizeMessages","ids","importer","kind","pluginData","load","sideEffects","watchFiles","watchDirs","store","sanitizeStringArray","runOnEndCallbacks","logPluginError","refCount","pluginRefs","buildServeData","port","host","servedir","wait","stop","buildLogLevelDefault","transformLogLevelDefault","buildOrServe","details","createObjectStash","e2","message","detail","handleError","failureErrorWithLog","isSync","buildOrServeContinue","logPluginError2","callerRefs","serveOptions","defaultWD","isBrowser","serve2","rebuild","copyResponseToResult","outputFiles","convertOutputFiles","parse","writeToStdout","log","replace","buildResponseToResult","replaceDetailsInMessages","rebuildID","isDisposed","error2","response2","location","notes","error3","result3","dispose","isStopped","serviceStopError","watchResponse","result2","serveResponse","transform2","input","fs","start","inputPath","inputFS","outstanding","code","codeFS","readFile","mapFS","writeFile","formatMessages2","messages","terminalWidth","isWarning","analyzeMetafile2","verbose","service","nextID","ident","tried","lines","stack","split","splice","parseStackLinesV8","at","readFileSync","startsWith","line","slice","match","exec","lineText","column","file","suggestion","summary","pluginText","sanitizeLocation","property","fallbackPluginName","messagesClone","index","notesClone","noteKeys","noteText","noteLocation","ensureServiceIsRunning","initializePromise","longLivedService","useWorker","startRunningService","catch","fetch","res","arrayBuffer","wasm","blob","Blob","Worker","URL","createObjectURL","Function","onmessage","data","postMessage","terminate","res2","_","self","esbuild"],"mappings":"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","sourcesContent":["(exports=>{\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// lib/npm/browser.ts\n__export(exports, {\n  analyzeMetafile: () => analyzeMetafile,\n  analyzeMetafileSync: () => analyzeMetafileSync,\n  build: () => build,\n  buildSync: () => buildSync,\n  formatMessages: () => formatMessages,\n  formatMessagesSync: () => formatMessagesSync,\n  initialize: () => initialize,\n  serve: () => serve,\n  transform: () => transform,\n  transformSync: () => transformSync,\n  version: () => version\n});\n\n// lib/shared/stdio_protocol.ts\nfunction encodePacket(packet) {\n  let visit = (value) => {\n    if (value === null) {\n      bb.write8(0);\n    } else if (typeof value === \"boolean\") {\n      bb.write8(1);\n      bb.write8(+value);\n    } else if (typeof value === \"number\") {\n      bb.write8(2);\n      bb.write32(value | 0);\n    } else if (typeof value === \"string\") {\n      bb.write8(3);\n      bb.write(encodeUTF8(value));\n    } else if (value instanceof Uint8Array) {\n      bb.write8(4);\n      bb.write(value);\n    } else if (value instanceof Array) {\n      bb.write8(5);\n      bb.write32(value.length);\n      for (let item of value) {\n        visit(item);\n      }\n    } else {\n      let keys = Object.keys(value);\n      bb.write8(6);\n      bb.write32(keys.length);\n      for (let key of keys) {\n        bb.write(encodeUTF8(key));\n        visit(value[key]);\n      }\n    }\n  };\n  let bb = new ByteBuffer();\n  bb.write32(0);\n  bb.write32(packet.id << 1 | +!packet.isRequest);\n  visit(packet.value);\n  writeUInt32LE(bb.buf, bb.len - 4, 0);\n  return bb.buf.subarray(0, bb.len);\n}\nfunction decodePacket(bytes) {\n  let visit = () => {\n    switch (bb.read8()) {\n      case 0:\n        return null;\n      case 1:\n        return !!bb.read8();\n      case 2:\n        return bb.read32();\n      case 3:\n        return decodeUTF8(bb.read());\n      case 4:\n        return bb.read();\n      case 5: {\n        let count = bb.read32();\n        let value2 = [];\n        for (let i = 0; i < count; i++) {\n          value2.push(visit());\n        }\n        return value2;\n      }\n      case 6: {\n        let count = bb.read32();\n        let value2 = {};\n        for (let i = 0; i < count; i++) {\n          value2[decodeUTF8(bb.read())] = visit();\n        }\n        return value2;\n      }\n      default:\n        throw new Error(\"Invalid packet\");\n    }\n  };\n  let bb = new ByteBuffer(bytes);\n  let id = bb.read32();\n  let isRequest = (id & 1) === 0;\n  id >>>= 1;\n  let value = visit();\n  if (bb.ptr !== bytes.length) {\n    throw new Error(\"Invalid packet\");\n  }\n  return { id, isRequest, value };\n}\nvar ByteBuffer = class {\n  constructor(buf = new Uint8Array(1024)) {\n    this.buf = buf;\n    this.len = 0;\n    this.ptr = 0;\n  }\n  _write(delta) {\n    if (this.len + delta > this.buf.length) {\n      let clone = new Uint8Array((this.len + delta) * 2);\n      clone.set(this.buf);\n      this.buf = clone;\n    }\n    this.len += delta;\n    return this.len - delta;\n  }\n  write8(value) {\n    let offset = this._write(1);\n    this.buf[offset] = value;\n  }\n  write32(value) {\n    let offset = this._write(4);\n    writeUInt32LE(this.buf, value, offset);\n  }\n  write(bytes) {\n    let offset = this._write(4 + bytes.length);\n    writeUInt32LE(this.buf, bytes.length, offset);\n    this.buf.set(bytes, offset + 4);\n  }\n  _read(delta) {\n    if (this.ptr + delta > this.buf.length) {\n      throw new Error(\"Invalid packet\");\n    }\n    this.ptr += delta;\n    return this.ptr - delta;\n  }\n  read8() {\n    return this.buf[this._read(1)];\n  }\n  read32() {\n    return readUInt32LE(this.buf, this._read(4));\n  }\n  read() {\n    let length = this.read32();\n    let bytes = new Uint8Array(length);\n    let ptr = this._read(bytes.length);\n    bytes.set(this.buf.subarray(ptr, ptr + length));\n    return bytes;\n  }\n};\nvar encodeUTF8;\nvar decodeUTF8;\nif (typeof TextEncoder !== \"undefined\" && typeof TextDecoder !== \"undefined\") {\n  let encoder = new TextEncoder();\n  let decoder = new TextDecoder();\n  encodeUTF8 = (text) => encoder.encode(text);\n  decodeUTF8 = (bytes) => decoder.decode(bytes);\n} else if (typeof Buffer !== \"undefined\") {\n  encodeUTF8 = (text) => {\n    let buffer = Buffer.from(text);\n    if (!(buffer instanceof Uint8Array)) {\n      buffer = new Uint8Array(buffer);\n    }\n    return buffer;\n  };\n  decodeUTF8 = (bytes) => {\n    let { buffer, byteOffset, byteLength } = bytes;\n    return Buffer.from(buffer, byteOffset, byteLength).toString();\n  };\n} else {\n  throw new Error(\"No UTF-8 codec found\");\n}\nfunction readUInt32LE(buffer, offset) {\n  return buffer[offset++] | buffer[offset++] << 8 | buffer[offset++] << 16 | buffer[offset++] << 24;\n}\nfunction writeUInt32LE(buffer, value, offset) {\n  buffer[offset++] = value;\n  buffer[offset++] = value >> 8;\n  buffer[offset++] = value >> 16;\n  buffer[offset++] = value >> 24;\n}\n\n// lib/shared/common.ts\nfunction validateTarget(target) {\n  target += \"\";\n  if (target.indexOf(\",\") >= 0)\n    throw new Error(`Invalid target: ${target}`);\n  return target;\n}\nvar canBeAnything = () => null;\nvar mustBeBoolean = (value) => typeof value === \"boolean\" ? null : \"a boolean\";\nvar mustBeBooleanOrObject = (value) => typeof value === \"boolean\" || typeof value === \"object\" && !Array.isArray(value) ? null : \"a boolean or an object\";\nvar mustBeString = (value) => typeof value === \"string\" ? null : \"a string\";\nvar mustBeRegExp = (value) => value instanceof RegExp ? null : \"a RegExp object\";\nvar mustBeInteger = (value) => typeof value === \"number\" && value === (value | 0) ? null : \"an integer\";\nvar mustBeFunction = (value) => typeof value === \"function\" ? null : \"a function\";\nvar mustBeArray = (value) => Array.isArray(value) ? null : \"an array\";\nvar mustBeObject = (value) => typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"an object\";\nvar mustBeArrayOrRecord = (value) => typeof value === \"object\" && value !== null ? null : \"an array or an object\";\nvar mustBeObjectOrNull = (value) => typeof value === \"object\" && !Array.isArray(value) ? null : \"an object or null\";\nvar mustBeStringOrBoolean = (value) => typeof value === \"string\" || typeof value === \"boolean\" ? null : \"a string or a boolean\";\nvar mustBeStringOrObject = (value) => typeof value === \"string\" || typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"a string or an object\";\nvar mustBeStringOrArray = (value) => typeof value === \"string\" || Array.isArray(value) ? null : \"a string or an array\";\nvar mustBeStringOrUint8Array = (value) => typeof value === \"string\" || value instanceof Uint8Array ? null : \"a string or a Uint8Array\";\nfunction getFlag(object, keys, key, mustBeFn) {\n  let value = object[key];\n  keys[key + \"\"] = true;\n  if (value === void 0)\n    return void 0;\n  let mustBe = mustBeFn(value);\n  if (mustBe !== null)\n    throw new Error(`\"${key}\" must be ${mustBe}`);\n  return value;\n}\nfunction checkForInvalidFlags(object, keys, where) {\n  for (let key in object) {\n    if (!(key in keys)) {\n      throw new Error(`Invalid option ${where}: \"${key}\"`);\n    }\n  }\n}\nfunction validateInitializeOptions(options) {\n  let keys = Object.create(null);\n  let wasmURL = getFlag(options, keys, \"wasmURL\", mustBeString);\n  let worker = getFlag(options, keys, \"worker\", mustBeBoolean);\n  checkForInvalidFlags(options, keys, \"in startService() call\");\n  return {\n    wasmURL,\n    worker\n  };\n}\nfunction pushLogFlags(flags, options, keys, isTTY, logLevelDefault) {\n  let color = getFlag(options, keys, \"color\", mustBeBoolean);\n  let logLevel = getFlag(options, keys, \"logLevel\", mustBeString);\n  let logLimit = getFlag(options, keys, \"logLimit\", mustBeInteger);\n  if (color !== void 0)\n    flags.push(`--color=${color}`);\n  else if (isTTY)\n    flags.push(`--color=true`);\n  flags.push(`--log-level=${logLevel || logLevelDefault}`);\n  flags.push(`--log-limit=${logLimit || 0}`);\n}\nfunction pushCommonFlags(flags, options, keys) {\n  let legalComments = getFlag(options, keys, \"legalComments\", mustBeString);\n  let sourceRoot = getFlag(options, keys, \"sourceRoot\", mustBeString);\n  let sourcesContent = getFlag(options, keys, \"sourcesContent\", mustBeBoolean);\n  let target = getFlag(options, keys, \"target\", mustBeStringOrArray);\n  let format = getFlag(options, keys, \"format\", mustBeString);\n  let globalName = getFlag(options, keys, \"globalName\", mustBeString);\n  let minify = getFlag(options, keys, \"minify\", mustBeBoolean);\n  let minifySyntax = getFlag(options, keys, \"minifySyntax\", mustBeBoolean);\n  let minifyWhitespace = getFlag(options, keys, \"minifyWhitespace\", mustBeBoolean);\n  let minifyIdentifiers = getFlag(options, keys, \"minifyIdentifiers\", mustBeBoolean);\n  let charset = getFlag(options, keys, \"charset\", mustBeString);\n  let treeShaking = getFlag(options, keys, \"treeShaking\", mustBeBoolean);\n  let ignoreAnnotations = getFlag(options, keys, \"ignoreAnnotations\", mustBeBoolean);\n  let jsx = getFlag(options, keys, \"jsx\", mustBeString);\n  let jsxFactory = getFlag(options, keys, \"jsxFactory\", mustBeString);\n  let jsxFragment = getFlag(options, keys, \"jsxFragment\", mustBeString);\n  let define = getFlag(options, keys, \"define\", mustBeObject);\n  let pure = getFlag(options, keys, \"pure\", mustBeArray);\n  let keepNames = getFlag(options, keys, \"keepNames\", mustBeBoolean);\n  if (legalComments)\n    flags.push(`--legal-comments=${legalComments}`);\n  if (sourceRoot !== void 0)\n    flags.push(`--source-root=${sourceRoot}`);\n  if (sourcesContent !== void 0)\n    flags.push(`--sources-content=${sourcesContent}`);\n  if (target) {\n    if (Array.isArray(target))\n      flags.push(`--target=${Array.from(target).map(validateTarget).join(\",\")}`);\n    else\n      flags.push(`--target=${validateTarget(target)}`);\n  }\n  if (format)\n    flags.push(`--format=${format}`);\n  if (globalName)\n    flags.push(`--global-name=${globalName}`);\n  if (minify)\n    flags.push(\"--minify\");\n  if (minifySyntax)\n    flags.push(\"--minify-syntax\");\n  if (minifyWhitespace)\n    flags.push(\"--minify-whitespace\");\n  if (minifyIdentifiers)\n    flags.push(\"--minify-identifiers\");\n  if (charset)\n    flags.push(`--charset=${charset}`);\n  if (treeShaking !== void 0)\n    flags.push(`--tree-shaking=${treeShaking}`);\n  if (ignoreAnnotations)\n    flags.push(`--ignore-annotations`);\n  if (jsx)\n    flags.push(`--jsx=${jsx}`);\n  if (jsxFactory)\n    flags.push(`--jsx-factory=${jsxFactory}`);\n  if (jsxFragment)\n    flags.push(`--jsx-fragment=${jsxFragment}`);\n  if (define) {\n    for (let key in define) {\n      if (key.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid define: ${key}`);\n      flags.push(`--define:${key}=${define[key]}`);\n    }\n  }\n  if (pure)\n    for (let fn of pure)\n      flags.push(`--pure:${fn}`);\n  if (keepNames)\n    flags.push(`--keep-names`);\n}\nfunction flagsForBuildOptions(callName, options, isTTY, logLevelDefault, writeDefault) {\n  var _a;\n  let flags = [];\n  let entries = [];\n  let keys = Object.create(null);\n  let stdinContents = null;\n  let stdinResolveDir = null;\n  let watchMode = null;\n  pushLogFlags(flags, options, keys, isTTY, logLevelDefault);\n  pushCommonFlags(flags, options, keys);\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n  let bundle = getFlag(options, keys, \"bundle\", mustBeBoolean);\n  let watch = getFlag(options, keys, \"watch\", mustBeBooleanOrObject);\n  let splitting = getFlag(options, keys, \"splitting\", mustBeBoolean);\n  let preserveSymlinks = getFlag(options, keys, \"preserveSymlinks\", mustBeBoolean);\n  let metafile = getFlag(options, keys, \"metafile\", mustBeBoolean);\n  let outfile = getFlag(options, keys, \"outfile\", mustBeString);\n  let outdir = getFlag(options, keys, \"outdir\", mustBeString);\n  let outbase = getFlag(options, keys, \"outbase\", mustBeString);\n  let platform = getFlag(options, keys, \"platform\", mustBeString);\n  let tsconfig = getFlag(options, keys, \"tsconfig\", mustBeString);\n  let resolveExtensions = getFlag(options, keys, \"resolveExtensions\", mustBeArray);\n  let nodePathsInput = getFlag(options, keys, \"nodePaths\", mustBeArray);\n  let mainFields = getFlag(options, keys, \"mainFields\", mustBeArray);\n  let conditions = getFlag(options, keys, \"conditions\", mustBeArray);\n  let external = getFlag(options, keys, \"external\", mustBeArray);\n  let loader = getFlag(options, keys, \"loader\", mustBeObject);\n  let outExtension = getFlag(options, keys, \"outExtension\", mustBeObject);\n  let publicPath = getFlag(options, keys, \"publicPath\", mustBeString);\n  let entryNames = getFlag(options, keys, \"entryNames\", mustBeString);\n  let chunkNames = getFlag(options, keys, \"chunkNames\", mustBeString);\n  let assetNames = getFlag(options, keys, \"assetNames\", mustBeString);\n  let inject = getFlag(options, keys, \"inject\", mustBeArray);\n  let banner = getFlag(options, keys, \"banner\", mustBeObject);\n  let footer = getFlag(options, keys, \"footer\", mustBeObject);\n  let entryPoints = getFlag(options, keys, \"entryPoints\", mustBeArrayOrRecord);\n  let absWorkingDir = getFlag(options, keys, \"absWorkingDir\", mustBeString);\n  let stdin = getFlag(options, keys, \"stdin\", mustBeObject);\n  let write = (_a = getFlag(options, keys, \"write\", mustBeBoolean)) != null ? _a : writeDefault;\n  let allowOverwrite = getFlag(options, keys, \"allowOverwrite\", mustBeBoolean);\n  let incremental = getFlag(options, keys, \"incremental\", mustBeBoolean) === true;\n  keys.plugins = true;\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\n  if (sourcemap)\n    flags.push(`--sourcemap${sourcemap === true ? \"\" : `=${sourcemap}`}`);\n  if (bundle)\n    flags.push(\"--bundle\");\n  if (allowOverwrite)\n    flags.push(\"--allow-overwrite\");\n  if (watch) {\n    flags.push(\"--watch\");\n    if (typeof watch === \"boolean\") {\n      watchMode = {};\n    } else {\n      let watchKeys = Object.create(null);\n      let onRebuild = getFlag(watch, watchKeys, \"onRebuild\", mustBeFunction);\n      checkForInvalidFlags(watch, watchKeys, `on \"watch\" in ${callName}() call`);\n      watchMode = { onRebuild };\n    }\n  }\n  if (splitting)\n    flags.push(\"--splitting\");\n  if (preserveSymlinks)\n    flags.push(\"--preserve-symlinks\");\n  if (metafile)\n    flags.push(`--metafile`);\n  if (outfile)\n    flags.push(`--outfile=${outfile}`);\n  if (outdir)\n    flags.push(`--outdir=${outdir}`);\n  if (outbase)\n    flags.push(`--outbase=${outbase}`);\n  if (platform)\n    flags.push(`--platform=${platform}`);\n  if (tsconfig)\n    flags.push(`--tsconfig=${tsconfig}`);\n  if (resolveExtensions) {\n    let values = [];\n    for (let value of resolveExtensions) {\n      value += \"\";\n      if (value.indexOf(\",\") >= 0)\n        throw new Error(`Invalid resolve extension: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--resolve-extensions=${values.join(\",\")}`);\n  }\n  if (publicPath)\n    flags.push(`--public-path=${publicPath}`);\n  if (entryNames)\n    flags.push(`--entry-names=${entryNames}`);\n  if (chunkNames)\n    flags.push(`--chunk-names=${chunkNames}`);\n  if (assetNames)\n    flags.push(`--asset-names=${assetNames}`);\n  if (mainFields) {\n    let values = [];\n    for (let value of mainFields) {\n      value += \"\";\n      if (value.indexOf(\",\") >= 0)\n        throw new Error(`Invalid main field: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--main-fields=${values.join(\",\")}`);\n  }\n  if (conditions) {\n    let values = [];\n    for (let value of conditions) {\n      value += \"\";\n      if (value.indexOf(\",\") >= 0)\n        throw new Error(`Invalid condition: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--conditions=${values.join(\",\")}`);\n  }\n  if (external)\n    for (let name of external)\n      flags.push(`--external:${name}`);\n  if (banner) {\n    for (let type in banner) {\n      if (type.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid banner file type: ${type}`);\n      flags.push(`--banner:${type}=${banner[type]}`);\n    }\n  }\n  if (footer) {\n    for (let type in footer) {\n      if (type.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid footer file type: ${type}`);\n      flags.push(`--footer:${type}=${footer[type]}`);\n    }\n  }\n  if (inject)\n    for (let path of inject)\n      flags.push(`--inject:${path}`);\n  if (loader) {\n    for (let ext in loader) {\n      if (ext.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid loader extension: ${ext}`);\n      flags.push(`--loader:${ext}=${loader[ext]}`);\n    }\n  }\n  if (outExtension) {\n    for (let ext in outExtension) {\n      if (ext.indexOf(\"=\") >= 0)\n        throw new Error(`Invalid out extension: ${ext}`);\n      flags.push(`--out-extension:${ext}=${outExtension[ext]}`);\n    }\n  }\n  if (entryPoints) {\n    if (Array.isArray(entryPoints)) {\n      for (let entryPoint of entryPoints) {\n        entries.push([\"\", entryPoint + \"\"]);\n      }\n    } else {\n      for (let [key, value] of Object.entries(entryPoints)) {\n        entries.push([key + \"\", value + \"\"]);\n      }\n    }\n  }\n  if (stdin) {\n    let stdinKeys = Object.create(null);\n    let contents = getFlag(stdin, stdinKeys, \"contents\", mustBeString);\n    let resolveDir = getFlag(stdin, stdinKeys, \"resolveDir\", mustBeString);\n    let sourcefile = getFlag(stdin, stdinKeys, \"sourcefile\", mustBeString);\n    let loader2 = getFlag(stdin, stdinKeys, \"loader\", mustBeString);\n    checkForInvalidFlags(stdin, stdinKeys, 'in \"stdin\" object');\n    if (sourcefile)\n      flags.push(`--sourcefile=${sourcefile}`);\n    if (loader2)\n      flags.push(`--loader=${loader2}`);\n    if (resolveDir)\n      stdinResolveDir = resolveDir + \"\";\n    stdinContents = contents ? contents + \"\" : \"\";\n  }\n  let nodePaths = [];\n  if (nodePathsInput) {\n    for (let value of nodePathsInput) {\n      value += \"\";\n      nodePaths.push(value);\n    }\n  }\n  return {\n    entries,\n    flags,\n    write,\n    stdinContents,\n    stdinResolveDir,\n    absWorkingDir,\n    incremental,\n    nodePaths,\n    watch: watchMode\n  };\n}\nfunction flagsForTransformOptions(callName, options, isTTY, logLevelDefault) {\n  let flags = [];\n  let keys = Object.create(null);\n  pushLogFlags(flags, options, keys, isTTY, logLevelDefault);\n  pushCommonFlags(flags, options, keys);\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n  let tsconfigRaw = getFlag(options, keys, \"tsconfigRaw\", mustBeStringOrObject);\n  let sourcefile = getFlag(options, keys, \"sourcefile\", mustBeString);\n  let loader = getFlag(options, keys, \"loader\", mustBeString);\n  let banner = getFlag(options, keys, \"banner\", mustBeString);\n  let footer = getFlag(options, keys, \"footer\", mustBeString);\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\n  if (sourcemap)\n    flags.push(`--sourcemap=${sourcemap === true ? \"external\" : sourcemap}`);\n  if (tsconfigRaw)\n    flags.push(`--tsconfig-raw=${typeof tsconfigRaw === \"string\" ? tsconfigRaw : JSON.stringify(tsconfigRaw)}`);\n  if (sourcefile)\n    flags.push(`--sourcefile=${sourcefile}`);\n  if (loader)\n    flags.push(`--loader=${loader}`);\n  if (banner)\n    flags.push(`--banner=${banner}`);\n  if (footer)\n    flags.push(`--footer=${footer}`);\n  return flags;\n}\nfunction createChannel(streamIn) {\n  let responseCallbacks = new Map();\n  let pluginCallbacks = new Map();\n  let watchCallbacks = new Map();\n  let serveCallbacks = new Map();\n  let nextServeID = 0;\n  let isClosed = false;\n  let nextRequestID = 0;\n  let nextBuildKey = 0;\n  let stdout = new Uint8Array(16 * 1024);\n  let stdoutUsed = 0;\n  let readFromStdout = (chunk) => {\n    let limit = stdoutUsed + chunk.length;\n    if (limit > stdout.length) {\n      let swap = new Uint8Array(limit * 2);\n      swap.set(stdout);\n      stdout = swap;\n    }\n    stdout.set(chunk, stdoutUsed);\n    stdoutUsed += chunk.length;\n    let offset = 0;\n    while (offset + 4 <= stdoutUsed) {\n      let length = readUInt32LE(stdout, offset);\n      if (offset + 4 + length > stdoutUsed) {\n        break;\n      }\n      offset += 4;\n      handleIncomingPacket(stdout.subarray(offset, offset + length));\n      offset += length;\n    }\n    if (offset > 0) {\n      stdout.copyWithin(0, offset, stdoutUsed);\n      stdoutUsed -= offset;\n    }\n  };\n  let afterClose = () => {\n    isClosed = true;\n    for (let callback of responseCallbacks.values()) {\n      callback(\"The service was stopped\", null);\n    }\n    responseCallbacks.clear();\n    for (let callbacks of serveCallbacks.values()) {\n      callbacks.onWait(\"The service was stopped\");\n    }\n    serveCallbacks.clear();\n    for (let callback of watchCallbacks.values()) {\n      try {\n        callback(new Error(\"The service was stopped\"), null);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    watchCallbacks.clear();\n  };\n  let sendRequest = (refs, value, callback) => {\n    if (isClosed)\n      return callback(\"The service is no longer running\", null);\n    let id = nextRequestID++;\n    responseCallbacks.set(id, (error, response) => {\n      try {\n        callback(error, response);\n      } finally {\n        if (refs)\n          refs.unref();\n      }\n    });\n    if (refs)\n      refs.ref();\n    streamIn.writeToStdin(encodePacket({ id, isRequest: true, value }));\n  };\n  let sendResponse = (id, value) => {\n    if (isClosed)\n      throw new Error(\"The service is no longer running\");\n    streamIn.writeToStdin(encodePacket({ id, isRequest: false, value }));\n  };\n  let handleRequest = (id, request) => __async(this, null, function* () {\n    try {\n      switch (request.command) {\n        case \"ping\": {\n          sendResponse(id, {});\n          break;\n        }\n        case \"start\": {\n          let callback = pluginCallbacks.get(request.key);\n          if (!callback)\n            sendResponse(id, {});\n          else\n            sendResponse(id, yield callback(request));\n          break;\n        }\n        case \"resolve\": {\n          let callback = pluginCallbacks.get(request.key);\n          if (!callback)\n            sendResponse(id, {});\n          else\n            sendResponse(id, yield callback(request));\n          break;\n        }\n        case \"load\": {\n          let callback = pluginCallbacks.get(request.key);\n          if (!callback)\n            sendResponse(id, {});\n          else\n            sendResponse(id, yield callback(request));\n          break;\n        }\n        case \"serve-request\": {\n          let callbacks = serveCallbacks.get(request.serveID);\n          if (callbacks && callbacks.onRequest)\n            callbacks.onRequest(request.args);\n          sendResponse(id, {});\n          break;\n        }\n        case \"serve-wait\": {\n          let callbacks = serveCallbacks.get(request.serveID);\n          if (callbacks)\n            callbacks.onWait(request.error);\n          sendResponse(id, {});\n          break;\n        }\n        case \"watch-rebuild\": {\n          let callback = watchCallbacks.get(request.watchID);\n          try {\n            if (callback)\n              callback(null, request.args);\n          } catch (err) {\n            console.error(err);\n          }\n          sendResponse(id, {});\n          break;\n        }\n        default:\n          throw new Error(`Invalid command: ` + request.command);\n      }\n    } catch (e) {\n      sendResponse(id, { errors: [extractErrorMessageV8(e, streamIn, null, void 0, \"\")] });\n    }\n  });\n  let isFirstPacket = true;\n  let handleIncomingPacket = (bytes) => {\n    if (isFirstPacket) {\n      isFirstPacket = false;\n      let binaryVersion = String.fromCharCode(...bytes);\n      if (binaryVersion !== \"0.13.13\") {\n        throw new Error(`Cannot start service: Host version \"${\"0.13.13\"}\" does not match binary version ${JSON.stringify(binaryVersion)}`);\n      }\n      return;\n    }\n    let packet = decodePacket(bytes);\n    if (packet.isRequest) {\n      handleRequest(packet.id, packet.value);\n    } else {\n      let callback = responseCallbacks.get(packet.id);\n      responseCallbacks.delete(packet.id);\n      if (packet.value.error)\n        callback(packet.value.error, {});\n      else\n        callback(null, packet.value);\n    }\n  };\n  let handlePlugins = (initialOptions, plugins, buildKey, stash) => __async(this, null, function* () {\n    let onStartCallbacks = [];\n    let onEndCallbacks = [];\n    let onResolveCallbacks = {};\n    let onLoadCallbacks = {};\n    let nextCallbackID = 0;\n    let i = 0;\n    let requestPlugins = [];\n    plugins = [...plugins];\n    for (let item of plugins) {\n      let keys = {};\n      if (typeof item !== \"object\")\n        throw new Error(`Plugin at index ${i} must be an object`);\n      let name = getFlag(item, keys, \"name\", mustBeString);\n      if (typeof name !== \"string\" || name === \"\")\n        throw new Error(`Plugin at index ${i} is missing a name`);\n      try {\n        let setup = getFlag(item, keys, \"setup\", mustBeFunction);\n        if (typeof setup !== \"function\")\n          throw new Error(`Plugin is missing a setup function`);\n        checkForInvalidFlags(item, keys, `on plugin ${JSON.stringify(name)}`);\n        let plugin = {\n          name,\n          onResolve: [],\n          onLoad: []\n        };\n        i++;\n        let promise = setup({\n          initialOptions,\n          onStart(callback2) {\n            let registeredText = `This error came from the \"onStart\" callback registered here`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onStart\");\n            onStartCallbacks.push({ name, callback: callback2, note: registeredNote });\n          },\n          onEnd(callback2) {\n            let registeredText = `This error came from the \"onEnd\" callback registered here`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onEnd\");\n            onEndCallbacks.push({ name, callback: callback2, note: registeredNote });\n          },\n          onResolve(options, callback2) {\n            let registeredText = `This error came from the \"onResolve\" callback registered here`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onResolve\");\n            let keys2 = {};\n            let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n            let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n            checkForInvalidFlags(options, keys2, `in onResolve() call for plugin ${JSON.stringify(name)}`);\n            if (filter == null)\n              throw new Error(`onResolve() call is missing a filter`);\n            let id = nextCallbackID++;\n            onResolveCallbacks[id] = { name, callback: callback2, note: registeredNote };\n            plugin.onResolve.push({ id, filter: filter.source, namespace: namespace || \"\" });\n          },\n          onLoad(options, callback2) {\n            let registeredText = `This error came from the \"onLoad\" callback registered here`;\n            let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onLoad\");\n            let keys2 = {};\n            let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n            let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n            checkForInvalidFlags(options, keys2, `in onLoad() call for plugin ${JSON.stringify(name)}`);\n            if (filter == null)\n              throw new Error(`onLoad() call is missing a filter`);\n            let id = nextCallbackID++;\n            onLoadCallbacks[id] = { name, callback: callback2, note: registeredNote };\n            plugin.onLoad.push({ id, filter: filter.source, namespace: namespace || \"\" });\n          }\n        });\n        if (promise)\n          yield promise;\n        requestPlugins.push(plugin);\n      } catch (e) {\n        return { ok: false, error: e, pluginName: name };\n      }\n    }\n    const callback = (request) => __async(this, null, function* () {\n      switch (request.command) {\n        case \"start\": {\n          let response = { errors: [], warnings: [] };\n          yield Promise.all(onStartCallbacks.map((_0) => __async(this, [_0], function* ({ name, callback: callback2, note }) {\n            try {\n              let result = yield callback2();\n              if (result != null) {\n                if (typeof result !== \"object\")\n                  throw new Error(`Expected onStart() callback in plugin ${JSON.stringify(name)} to return an object`);\n                let keys = {};\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                checkForInvalidFlags(result, keys, `from onStart() callback in plugin ${JSON.stringify(name)}`);\n                if (errors != null)\n                  response.errors.push(...sanitizeMessages(errors, \"errors\", stash, name));\n                if (warnings != null)\n                  response.warnings.push(...sanitizeMessages(warnings, \"warnings\", stash, name));\n              }\n            } catch (e) {\n              response.errors.push(extractErrorMessageV8(e, streamIn, stash, note && note(), name));\n            }\n          })));\n          return response;\n        }\n        case \"resolve\": {\n          let response = {}, name = \"\", callback2, note;\n          for (let id of request.ids) {\n            try {\n              ({ name, callback: callback2, note } = onResolveCallbacks[id]);\n              let result = yield callback2({\n                path: request.path,\n                importer: request.importer,\n                namespace: request.namespace,\n                resolveDir: request.resolveDir,\n                kind: request.kind,\n                pluginData: stash.load(request.pluginData)\n              });\n              if (result != null) {\n                if (typeof result !== \"object\")\n                  throw new Error(`Expected onResolve() callback in plugin ${JSON.stringify(name)} to return an object`);\n                let keys = {};\n                let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n                let path = getFlag(result, keys, \"path\", mustBeString);\n                let namespace = getFlag(result, keys, \"namespace\", mustBeString);\n                let external = getFlag(result, keys, \"external\", mustBeBoolean);\n                let sideEffects = getFlag(result, keys, \"sideEffects\", mustBeBoolean);\n                let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n                let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n                checkForInvalidFlags(result, keys, `from onResolve() callback in plugin ${JSON.stringify(name)}`);\n                response.id = id;\n                if (pluginName != null)\n                  response.pluginName = pluginName;\n                if (path != null)\n                  response.path = path;\n                if (namespace != null)\n                  response.namespace = namespace;\n                if (external != null)\n                  response.external = external;\n                if (sideEffects != null)\n                  response.sideEffects = sideEffects;\n                if (pluginData != null)\n                  response.pluginData = stash.store(pluginData);\n                if (errors != null)\n                  response.errors = sanitizeMessages(errors, \"errors\", stash, name);\n                if (warnings != null)\n                  response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\n                if (watchFiles != null)\n                  response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n                if (watchDirs != null)\n                  response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n                break;\n              }\n            } catch (e) {\n              return { id, errors: [extractErrorMessageV8(e, streamIn, stash, note && note(), name)] };\n            }\n          }\n          return response;\n        }\n        case \"load\": {\n          let response = {}, name = \"\", callback2, note;\n          for (let id of request.ids) {\n            try {\n              ({ name, callback: callback2, note } = onLoadCallbacks[id]);\n              let result = yield callback2({\n                path: request.path,\n                namespace: request.namespace,\n                pluginData: stash.load(request.pluginData)\n              });\n              if (result != null) {\n                if (typeof result !== \"object\")\n                  throw new Error(`Expected onLoad() callback in plugin ${JSON.stringify(name)} to return an object`);\n                let keys = {};\n                let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n                let contents = getFlag(result, keys, \"contents\", mustBeStringOrUint8Array);\n                let resolveDir = getFlag(result, keys, \"resolveDir\", mustBeString);\n                let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n                let loader = getFlag(result, keys, \"loader\", mustBeString);\n                let errors = getFlag(result, keys, \"errors\", mustBeArray);\n                let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n                let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n                let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n                checkForInvalidFlags(result, keys, `from onLoad() callback in plugin ${JSON.stringify(name)}`);\n                response.id = id;\n                if (pluginName != null)\n                  response.pluginName = pluginName;\n                if (contents instanceof Uint8Array)\n                  response.contents = contents;\n                else if (contents != null)\n                  response.contents = encodeUTF8(contents);\n                if (resolveDir != null)\n                  response.resolveDir = resolveDir;\n                if (pluginData != null)\n                  response.pluginData = stash.store(pluginData);\n                if (loader != null)\n                  response.loader = loader;\n                if (errors != null)\n                  response.errors = sanitizeMessages(errors, \"errors\", stash, name);\n                if (warnings != null)\n                  response.warnings = sanitizeMessages(warnings, \"warnings\", stash, name);\n                if (watchFiles != null)\n                  response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n                if (watchDirs != null)\n                  response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n                break;\n              }\n            } catch (e) {\n              return { id, errors: [extractErrorMessageV8(e, streamIn, stash, note && note(), name)] };\n            }\n          }\n          return response;\n        }\n        default:\n          throw new Error(`Invalid command: ` + request.command);\n      }\n    });\n    let runOnEndCallbacks = (result, logPluginError, done) => done();\n    if (onEndCallbacks.length > 0) {\n      runOnEndCallbacks = (result, logPluginError, done) => {\n        (() => __async(this, null, function* () {\n          for (const { name, callback: callback2, note } of onEndCallbacks) {\n            try {\n              yield callback2(result);\n            } catch (e) {\n              result.errors.push(yield new Promise((resolve) => logPluginError(e, name, note && note(), resolve)));\n            }\n          }\n        }))().then(done);\n      };\n    }\n    let refCount = 0;\n    return {\n      ok: true,\n      requestPlugins,\n      runOnEndCallbacks,\n      pluginRefs: {\n        ref() {\n          if (++refCount === 1)\n            pluginCallbacks.set(buildKey, callback);\n        },\n        unref() {\n          if (--refCount === 0)\n            pluginCallbacks.delete(buildKey);\n        }\n      }\n    };\n  });\n  let buildServeData = (refs, options, request) => {\n    let keys = {};\n    let port = getFlag(options, keys, \"port\", mustBeInteger);\n    let host = getFlag(options, keys, \"host\", mustBeString);\n    let servedir = getFlag(options, keys, \"servedir\", mustBeString);\n    let onRequest = getFlag(options, keys, \"onRequest\", mustBeFunction);\n    let serveID = nextServeID++;\n    let onWait;\n    let wait = new Promise((resolve, reject) => {\n      onWait = (error) => {\n        serveCallbacks.delete(serveID);\n        if (error !== null)\n          reject(new Error(error));\n        else\n          resolve();\n      };\n    });\n    request.serve = { serveID };\n    checkForInvalidFlags(options, keys, `in serve() call`);\n    if (port !== void 0)\n      request.serve.port = port;\n    if (host !== void 0)\n      request.serve.host = host;\n    if (servedir !== void 0)\n      request.serve.servedir = servedir;\n    serveCallbacks.set(serveID, {\n      onRequest,\n      onWait\n    });\n    return {\n      wait,\n      stop() {\n        sendRequest(refs, { command: \"serve-stop\", serveID }, () => {\n        });\n      }\n    };\n  };\n  const buildLogLevelDefault = \"warning\";\n  const transformLogLevelDefault = \"silent\";\n  let buildOrServe = (args) => {\n    let key = nextBuildKey++;\n    const details = createObjectStash();\n    let plugins;\n    let { refs, options, isTTY, callback } = args;\n    if (typeof options === \"object\") {\n      let value = options.plugins;\n      if (value !== void 0) {\n        if (!Array.isArray(value))\n          throw new Error(`\"plugins\" must be an array`);\n        plugins = value;\n      }\n    }\n    let logPluginError = (e, pluginName, note, done) => {\n      let flags = [];\n      try {\n        pushLogFlags(flags, options, {}, isTTY, buildLogLevelDefault);\n      } catch (e2) {\n      }\n      const message = extractErrorMessageV8(e, streamIn, details, note, pluginName);\n      sendRequest(refs, { command: \"error\", flags, error: message }, () => {\n        message.detail = details.load(message.detail);\n        done(message);\n      });\n    };\n    let handleError = (e, pluginName) => {\n      logPluginError(e, pluginName, void 0, (error) => {\n        callback(failureErrorWithLog(\"Build failed\", [error], []), null);\n      });\n    };\n    if (plugins && plugins.length > 0) {\n      if (streamIn.isSync)\n        return handleError(new Error(\"Cannot use plugins in synchronous API calls\"), \"\");\n      handlePlugins(options, plugins, key, details).then((result) => {\n        if (!result.ok) {\n          handleError(result.error, result.pluginName);\n        } else {\n          try {\n            buildOrServeContinue(__spreadProps(__spreadValues({}, args), {\n              key,\n              details,\n              logPluginError,\n              requestPlugins: result.requestPlugins,\n              runOnEndCallbacks: result.runOnEndCallbacks,\n              pluginRefs: result.pluginRefs\n            }));\n          } catch (e) {\n            handleError(e, \"\");\n          }\n        }\n      }, (e) => handleError(e, \"\"));\n    } else {\n      try {\n        buildOrServeContinue(__spreadProps(__spreadValues({}, args), {\n          key,\n          details,\n          logPluginError,\n          requestPlugins: null,\n          runOnEndCallbacks: (result, logPluginError2, done) => done(),\n          pluginRefs: null\n        }));\n      } catch (e) {\n        handleError(e, \"\");\n      }\n    }\n  };\n  let buildOrServeContinue = ({\n    callName,\n    refs: callerRefs,\n    serveOptions,\n    options,\n    isTTY,\n    defaultWD,\n    callback,\n    key,\n    details,\n    logPluginError,\n    requestPlugins,\n    runOnEndCallbacks,\n    pluginRefs\n  }) => {\n    const refs = {\n      ref() {\n        if (pluginRefs)\n          pluginRefs.ref();\n        if (callerRefs)\n          callerRefs.ref();\n      },\n      unref() {\n        if (pluginRefs)\n          pluginRefs.unref();\n        if (callerRefs)\n          callerRefs.unref();\n      }\n    };\n    let writeDefault = !streamIn.isBrowser;\n    let {\n      entries,\n      flags,\n      write,\n      stdinContents,\n      stdinResolveDir,\n      absWorkingDir,\n      incremental,\n      nodePaths,\n      watch\n    } = flagsForBuildOptions(callName, options, isTTY, buildLogLevelDefault, writeDefault);\n    let request = {\n      command: \"build\",\n      key,\n      entries,\n      flags,\n      write,\n      stdinContents,\n      stdinResolveDir,\n      absWorkingDir: absWorkingDir || defaultWD,\n      incremental,\n      nodePaths\n    };\n    if (requestPlugins)\n      request.plugins = requestPlugins;\n    let serve2 = serveOptions && buildServeData(refs, serveOptions, request);\n    let rebuild;\n    let stop;\n    let copyResponseToResult = (response, result) => {\n      if (response.outputFiles)\n        result.outputFiles = response.outputFiles.map(convertOutputFiles);\n      if (response.metafile)\n        result.metafile = JSON.parse(response.metafile);\n      if (response.writeToStdout !== void 0)\n        console.log(decodeUTF8(response.writeToStdout).replace(/\\n$/, \"\"));\n    };\n    let buildResponseToResult = (response, callback2) => {\n      let result = {\n        errors: replaceDetailsInMessages(response.errors, details),\n        warnings: replaceDetailsInMessages(response.warnings, details)\n      };\n      copyResponseToResult(response, result);\n      runOnEndCallbacks(result, logPluginError, () => {\n        if (result.errors.length > 0) {\n          return callback2(failureErrorWithLog(\"Build failed\", result.errors, result.warnings), null);\n        }\n        if (response.rebuildID !== void 0) {\n          if (!rebuild) {\n            let isDisposed = false;\n            rebuild = () => new Promise((resolve, reject) => {\n              if (isDisposed || isClosed)\n                throw new Error(\"Cannot rebuild\");\n              sendRequest(refs, { command: \"rebuild\", rebuildID: response.rebuildID }, (error2, response2) => {\n                if (error2) {\n                  const message = { pluginName: \"\", text: error2, location: null, notes: [], detail: void 0 };\n                  return callback2(failureErrorWithLog(\"Build failed\", [message], []), null);\n                }\n                buildResponseToResult(response2, (error3, result3) => {\n                  if (error3)\n                    reject(error3);\n                  else\n                    resolve(result3);\n                });\n              });\n            });\n            refs.ref();\n            rebuild.dispose = () => {\n              if (isDisposed)\n                return;\n              isDisposed = true;\n              sendRequest(refs, { command: \"rebuild-dispose\", rebuildID: response.rebuildID }, () => {\n              });\n              refs.unref();\n            };\n          }\n          result.rebuild = rebuild;\n        }\n        if (response.watchID !== void 0) {\n          if (!stop) {\n            let isStopped = false;\n            refs.ref();\n            stop = () => {\n              if (isStopped)\n                return;\n              isStopped = true;\n              watchCallbacks.delete(response.watchID);\n              sendRequest(refs, { command: \"watch-stop\", watchID: response.watchID }, () => {\n              });\n              refs.unref();\n            };\n            if (watch) {\n              watchCallbacks.set(response.watchID, (serviceStopError, watchResponse) => {\n                if (serviceStopError) {\n                  if (watch.onRebuild)\n                    watch.onRebuild(serviceStopError, null);\n                  return;\n                }\n                let result2 = {\n                  errors: replaceDetailsInMessages(watchResponse.errors, details),\n                  warnings: replaceDetailsInMessages(watchResponse.warnings, details)\n                };\n                copyResponseToResult(watchResponse, result2);\n                runOnEndCallbacks(result2, logPluginError, () => {\n                  if (result2.errors.length > 0) {\n                    if (watch.onRebuild)\n                      watch.onRebuild(failureErrorWithLog(\"Build failed\", result2.errors, result2.warnings), null);\n                    return;\n                  }\n                  if (watchResponse.rebuildID !== void 0)\n                    result2.rebuild = rebuild;\n                  result2.stop = stop;\n                  if (watch.onRebuild)\n                    watch.onRebuild(null, result2);\n                });\n              });\n            }\n          }\n          result.stop = stop;\n        }\n        callback2(null, result);\n      });\n    };\n    if (write && streamIn.isBrowser)\n      throw new Error(`Cannot enable \"write\" in the browser`);\n    if (incremental && streamIn.isSync)\n      throw new Error(`Cannot use \"incremental\" with a synchronous build`);\n    if (watch && streamIn.isSync)\n      throw new Error(`Cannot use \"watch\" with a synchronous build`);\n    sendRequest(refs, request, (error, response) => {\n      if (error)\n        return callback(new Error(error), null);\n      if (serve2) {\n        let serveResponse = response;\n        let isStopped = false;\n        refs.ref();\n        let result = {\n          port: serveResponse.port,\n          host: serveResponse.host,\n          wait: serve2.wait,\n          stop() {\n            if (isStopped)\n              return;\n            isStopped = true;\n            serve2.stop();\n            refs.unref();\n          }\n        };\n        refs.ref();\n        serve2.wait.then(refs.unref, refs.unref);\n        return callback(null, result);\n      }\n      return buildResponseToResult(response, callback);\n    });\n  };\n  let transform2 = ({ callName, refs, input, options, isTTY, fs, callback }) => {\n    const details = createObjectStash();\n    let start = (inputPath) => {\n      try {\n        if (typeof input !== \"string\")\n          throw new Error('The input to \"transform\" must be a string');\n        let flags = flagsForTransformOptions(callName, options, isTTY, transformLogLevelDefault);\n        let request = {\n          command: \"transform\",\n          flags,\n          inputFS: inputPath !== null,\n          input: inputPath !== null ? inputPath : input\n        };\n        sendRequest(refs, request, (error, response) => {\n          if (error)\n            return callback(new Error(error), null);\n          let errors = replaceDetailsInMessages(response.errors, details);\n          let warnings = replaceDetailsInMessages(response.warnings, details);\n          let outstanding = 1;\n          let next = () => --outstanding === 0 && callback(null, { warnings, code: response.code, map: response.map });\n          if (errors.length > 0)\n            return callback(failureErrorWithLog(\"Transform failed\", errors, warnings), null);\n          if (response.codeFS) {\n            outstanding++;\n            fs.readFile(response.code, (err, contents) => {\n              if (err !== null) {\n                callback(err, null);\n              } else {\n                response.code = contents;\n                next();\n              }\n            });\n          }\n          if (response.mapFS) {\n            outstanding++;\n            fs.readFile(response.map, (err, contents) => {\n              if (err !== null) {\n                callback(err, null);\n              } else {\n                response.map = contents;\n                next();\n              }\n            });\n          }\n          next();\n        });\n      } catch (e) {\n        let flags = [];\n        try {\n          pushLogFlags(flags, options, {}, isTTY, transformLogLevelDefault);\n        } catch (e2) {\n        }\n        const error = extractErrorMessageV8(e, streamIn, details, void 0, \"\");\n        sendRequest(refs, { command: \"error\", flags, error }, () => {\n          error.detail = details.load(error.detail);\n          callback(failureErrorWithLog(\"Transform failed\", [error], []), null);\n        });\n      }\n    };\n    if (typeof input === \"string\" && input.length > 1024 * 1024) {\n      let next = start;\n      start = () => fs.writeFile(input, next);\n    }\n    start(null);\n  };\n  let formatMessages2 = ({ callName, refs, messages, options, callback }) => {\n    let result = sanitizeMessages(messages, \"messages\", null, \"\");\n    if (!options)\n      throw new Error(`Missing second argument in ${callName}() call`);\n    let keys = {};\n    let kind = getFlag(options, keys, \"kind\", mustBeString);\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\n    let terminalWidth = getFlag(options, keys, \"terminalWidth\", mustBeInteger);\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\n    if (kind === void 0)\n      throw new Error(`Missing \"kind\" in ${callName}() call`);\n    if (kind !== \"error\" && kind !== \"warning\")\n      throw new Error(`Expected \"kind\" to be \"error\" or \"warning\" in ${callName}() call`);\n    let request = {\n      command: \"format-msgs\",\n      messages: result,\n      isWarning: kind === \"warning\"\n    };\n    if (color !== void 0)\n      request.color = color;\n    if (terminalWidth !== void 0)\n      request.terminalWidth = terminalWidth;\n    sendRequest(refs, request, (error, response) => {\n      if (error)\n        return callback(new Error(error), null);\n      callback(null, response.messages);\n    });\n  };\n  let analyzeMetafile2 = ({ callName, refs, metafile, options, callback }) => {\n    if (options === void 0)\n      options = {};\n    let keys = {};\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\n    let verbose = getFlag(options, keys, \"verbose\", mustBeBoolean);\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\n    let request = {\n      command: \"analyze-metafile\",\n      metafile\n    };\n    if (color !== void 0)\n      request.color = color;\n    if (verbose !== void 0)\n      request.verbose = verbose;\n    sendRequest(refs, request, (error, response) => {\n      if (error)\n        return callback(new Error(error), null);\n      callback(null, response.result);\n    });\n  };\n  return {\n    readFromStdout,\n    afterClose,\n    service: {\n      buildOrServe,\n      transform: transform2,\n      formatMessages: formatMessages2,\n      analyzeMetafile: analyzeMetafile2\n    }\n  };\n}\nfunction createObjectStash() {\n  const map = new Map();\n  let nextID = 0;\n  return {\n    load(id) {\n      return map.get(id);\n    },\n    store(value) {\n      if (value === void 0)\n        return -1;\n      const id = nextID++;\n      map.set(id, value);\n      return id;\n    }\n  };\n}\nfunction extractCallerV8(e, streamIn, ident) {\n  let note;\n  let tried = false;\n  return () => {\n    if (tried)\n      return note;\n    tried = true;\n    try {\n      let lines = (e.stack + \"\").split(\"\\n\");\n      lines.splice(1, 1);\n      let location = parseStackLinesV8(streamIn, lines, ident);\n      if (location) {\n        note = { text: e.message, location };\n        return note;\n      }\n    } catch (e2) {\n    }\n  };\n}\nfunction extractErrorMessageV8(e, streamIn, stash, note, pluginName) {\n  let text = \"Internal error\";\n  let location = null;\n  try {\n    text = (e && e.message || e) + \"\";\n  } catch (e2) {\n  }\n  try {\n    location = parseStackLinesV8(streamIn, (e.stack + \"\").split(\"\\n\"), \"\");\n  } catch (e2) {\n  }\n  return { pluginName, text, location, notes: note ? [note] : [], detail: stash ? stash.store(e) : -1 };\n}\nfunction parseStackLinesV8(streamIn, lines, ident) {\n  let at = \"    at \";\n  if (streamIn.readFileSync && !lines[0].startsWith(at) && lines[1].startsWith(at)) {\n    for (let i = 1; i < lines.length; i++) {\n      let line = lines[i];\n      if (!line.startsWith(at))\n        continue;\n      line = line.slice(at.length);\n      while (true) {\n        let match = /^(?:new |async )?\\S+ \\((.*)\\)$/.exec(line);\n        if (match) {\n          line = match[1];\n          continue;\n        }\n        match = /^eval at \\S+ \\((.*)\\)(?:, \\S+:\\d+:\\d+)?$/.exec(line);\n        if (match) {\n          line = match[1];\n          continue;\n        }\n        match = /^(\\S+):(\\d+):(\\d+)$/.exec(line);\n        if (match) {\n          let contents;\n          try {\n            contents = streamIn.readFileSync(match[1], \"utf8\");\n          } catch (e) {\n            break;\n          }\n          let lineText = contents.split(/\\r\\n|\\r|\\n|\\u2028|\\u2029/)[+match[2] - 1] || \"\";\n          let column = +match[3] - 1;\n          let length = lineText.slice(column, column + ident.length) === ident ? ident.length : 0;\n          return {\n            file: match[1],\n            namespace: \"file\",\n            line: +match[2],\n            column: encodeUTF8(lineText.slice(0, column)).length,\n            length: encodeUTF8(lineText.slice(column, column + length)).length,\n            lineText: lineText + \"\\n\" + lines.slice(1).join(\"\\n\"),\n            suggestion: \"\"\n          };\n        }\n        break;\n      }\n    }\n  }\n  return null;\n}\nfunction failureErrorWithLog(text, errors, warnings) {\n  let limit = 5;\n  let summary = errors.length < 1 ? \"\" : ` with ${errors.length} error${errors.length < 2 ? \"\" : \"s\"}:` + errors.slice(0, limit + 1).map((e, i) => {\n    if (i === limit)\n      return \"\\n...\";\n    if (!e.location)\n      return `\nerror: ${e.text}`;\n    let { file, line, column } = e.location;\n    let pluginText = e.pluginName ? `[plugin: ${e.pluginName}] ` : \"\";\n    return `\n${file}:${line}:${column}: error: ${pluginText}${e.text}`;\n  }).join(\"\");\n  let error = new Error(`${text}${summary}`);\n  error.errors = errors;\n  error.warnings = warnings;\n  return error;\n}\nfunction replaceDetailsInMessages(messages, stash) {\n  for (const message of messages) {\n    message.detail = stash.load(message.detail);\n  }\n  return messages;\n}\nfunction sanitizeLocation(location, where) {\n  if (location == null)\n    return null;\n  let keys = {};\n  let file = getFlag(location, keys, \"file\", mustBeString);\n  let namespace = getFlag(location, keys, \"namespace\", mustBeString);\n  let line = getFlag(location, keys, \"line\", mustBeInteger);\n  let column = getFlag(location, keys, \"column\", mustBeInteger);\n  let length = getFlag(location, keys, \"length\", mustBeInteger);\n  let lineText = getFlag(location, keys, \"lineText\", mustBeString);\n  let suggestion = getFlag(location, keys, \"suggestion\", mustBeString);\n  checkForInvalidFlags(location, keys, where);\n  return {\n    file: file || \"\",\n    namespace: namespace || \"\",\n    line: line || 0,\n    column: column || 0,\n    length: length || 0,\n    lineText: lineText || \"\",\n    suggestion: suggestion || \"\"\n  };\n}\nfunction sanitizeMessages(messages, property, stash, fallbackPluginName) {\n  let messagesClone = [];\n  let index = 0;\n  for (const message of messages) {\n    let keys = {};\n    let pluginName = getFlag(message, keys, \"pluginName\", mustBeString);\n    let text = getFlag(message, keys, \"text\", mustBeString);\n    let location = getFlag(message, keys, \"location\", mustBeObjectOrNull);\n    let notes = getFlag(message, keys, \"notes\", mustBeArray);\n    let detail = getFlag(message, keys, \"detail\", canBeAnything);\n    let where = `in element ${index} of \"${property}\"`;\n    checkForInvalidFlags(message, keys, where);\n    let notesClone = [];\n    if (notes) {\n      for (const note of notes) {\n        let noteKeys = {};\n        let noteText = getFlag(note, noteKeys, \"text\", mustBeString);\n        let noteLocation = getFlag(note, noteKeys, \"location\", mustBeObjectOrNull);\n        checkForInvalidFlags(note, noteKeys, where);\n        notesClone.push({\n          text: noteText || \"\",\n          location: sanitizeLocation(noteLocation, where)\n        });\n      }\n    }\n    messagesClone.push({\n      pluginName: pluginName || fallbackPluginName,\n      text: text || \"\",\n      location: sanitizeLocation(location, where),\n      notes: notesClone,\n      detail: stash ? stash.store(detail) : -1\n    });\n    index++;\n  }\n  return messagesClone;\n}\nfunction sanitizeStringArray(values, property) {\n  const result = [];\n  for (const value of values) {\n    if (typeof value !== \"string\")\n      throw new Error(`${JSON.stringify(property)} must be an array of strings`);\n    result.push(value);\n  }\n  return result;\n}\nfunction convertOutputFiles({ path, contents }) {\n  let text = null;\n  return {\n    path,\n    contents,\n    get text() {\n      if (text === null)\n        text = decodeUTF8(contents);\n      return text;\n    }\n  };\n}\n\n// lib/npm/browser.ts\nvar version = \"0.13.13\";\nvar build = (options) => ensureServiceIsRunning().build(options);\nvar serve = () => {\n  throw new Error(`The \"serve\" API only works in node`);\n};\nvar transform = (input, options) => ensureServiceIsRunning().transform(input, options);\nvar formatMessages = (messages, options) => ensureServiceIsRunning().formatMessages(messages, options);\nvar analyzeMetafile = (metafile, options) => ensureServiceIsRunning().analyzeMetafile(metafile, options);\nvar buildSync = () => {\n  throw new Error(`The \"buildSync\" API only works in node`);\n};\nvar transformSync = () => {\n  throw new Error(`The \"transformSync\" API only works in node`);\n};\nvar formatMessagesSync = () => {\n  throw new Error(`The \"formatMessagesSync\" API only works in node`);\n};\nvar analyzeMetafileSync = () => {\n  throw new Error(`The \"analyzeMetafileSync\" API only works in node`);\n};\nvar initializePromise;\nvar longLivedService;\nvar ensureServiceIsRunning = () => {\n  if (longLivedService)\n    return longLivedService;\n  if (initializePromise)\n    throw new Error('You need to wait for the promise returned from \"initialize\" to be resolved before calling this');\n  throw new Error('You need to call \"initialize\" before calling this');\n};\nvar initialize = (options) => {\n  options = validateInitializeOptions(options || {});\n  let wasmURL = options.wasmURL;\n  let useWorker = options.worker !== false;\n  if (!wasmURL)\n    throw new Error('Must provide the \"wasmURL\" option');\n  wasmURL += \"\";\n  if (initializePromise)\n    throw new Error('Cannot call \"initialize\" more than once');\n  initializePromise = startRunningService(wasmURL, useWorker);\n  initializePromise.catch(() => {\n    initializePromise = void 0;\n  });\n  return initializePromise;\n};\nvar startRunningService = (wasmURL, useWorker) => __async(void 0, null, function* () {\n  let res = yield fetch(wasmURL);\n  if (!res.ok)\n    throw new Error(`Failed to download ${JSON.stringify(wasmURL)}`);\n  let wasm = yield res.arrayBuffer();\n  let code = `{let global={};for(let o=self;o;o=Object.getPrototypeOf(o))for(let k of Object.getOwnPropertyNames(o))if(!(k in global))Object.defineProperty(global,k,{get:()=>self[k]});// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n(() => {\n\t// Map multiple JavaScript environments to a single common API,\n\t// preferring web standards over Node.js API.\n\t//\n\t// Environments considered:\n\t// - Browsers\n\t// - Node.js\n\t// - Electron\n\t// - Parcel\n\t// - Webpack\n\n\tif (typeof global !== \"undefined\") {\n\t\t// global already exists\n\t} else if (typeof window !== \"undefined\") {\n\t\twindow.global = window;\n\t} else if (typeof self !== \"undefined\") {\n\t\tself.global = self;\n\t} else {\n\t\tthrow new Error(\"cannot export Go (neither global, window nor self is defined)\");\n\t}\n\n\tif (!global.require && typeof require !== \"undefined\") {\n\t\tglobal.require = require;\n\t}\n\n\tif (!global.fs && global.require) {\n\t\tconst fs = require(\"fs\");\n\t\tif (typeof fs === \"object\" && fs !== null && Object.keys(fs).length !== 0) {\n\t\t\t\n    global.fs = Object.assign({}, fs, {\n      // Hack around a Unicode bug in node: https://github.com/nodejs/node/issues/24550\n      write(fd, buf, offset, length, position, callback) {\n        if (offset === 0 && length === buf.length && position === null) {\n          if (fd === process.stdout.fd) {\n            try {\n              process.stdout.write(buf, err => err ? callback(err, 0, null) : callback(null, length, buf));\n            } catch (err) {\n              callback(err, 0, null);\n            }\n            return;\n          }\n          if (fd === process.stderr.fd) {\n            try {\n              process.stderr.write(buf, err => err ? callback(err, 0, null) : callback(null, length, buf));\n            } catch (err) {\n              callback(err, 0, null);\n            }\n            return;\n          }\n        }\n        fs.write(fd, buf, offset, length, position, callback);\n      },\n    });\n  \n\t\t}\n\t}\n\n\tconst enosys = () => {\n\t\tconst err = new Error(\"not implemented\");\n\t\terr.code = \"ENOSYS\";\n\t\treturn err;\n\t};\n\n\tif (!global.fs) {\n\t\tlet outputBuf = \"\";\n\t\tglobal.fs = {\n\t\t\tconstants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 }, // unused\n\t\t\twriteSync(fd, buf) {\n\t\t\t\toutputBuf += decoder.decode(buf);\n\t\t\t\tconst nl = outputBuf.lastIndexOf(\"\\\\n\");\n\t\t\t\tif (nl != -1) {\n\t\t\t\t\tconsole.log(outputBuf.substr(0, nl));\n\t\t\t\t\toutputBuf = outputBuf.substr(nl + 1);\n\t\t\t\t}\n\t\t\t\treturn buf.length;\n\t\t\t},\n\t\t\twrite(fd, buf, offset, length, position, callback) {\n\t\t\t\tif (offset !== 0 || length !== buf.length || position !== null) {\n\t\t\t\t\tcallback(enosys());\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst n = this.writeSync(fd, buf);\n\t\t\t\tcallback(null, n);\n\t\t\t},\n\t\t\tchmod(path, mode, callback) { callback(enosys()); },\n\t\t\tchown(path, uid, gid, callback) { callback(enosys()); },\n\t\t\tclose(fd, callback) { callback(enosys()); },\n\t\t\tfchmod(fd, mode, callback) { callback(enosys()); },\n\t\t\tfchown(fd, uid, gid, callback) { callback(enosys()); },\n\t\t\tfstat(fd, callback) { callback(enosys()); },\n\t\t\tfsync(fd, callback) { callback(null); },\n\t\t\tftruncate(fd, length, callback) { callback(enosys()); },\n\t\t\tlchown(path, uid, gid, callback) { callback(enosys()); },\n\t\t\tlink(path, link, callback) { callback(enosys()); },\n\t\t\tlstat(path, callback) { callback(enosys()); },\n\t\t\tmkdir(path, perm, callback) { callback(enosys()); },\n\t\t\topen(path, flags, mode, callback) { callback(enosys()); },\n\t\t\tread(fd, buffer, offset, length, position, callback) { callback(enosys()); },\n\t\t\treaddir(path, callback) { callback(enosys()); },\n\t\t\treadlink(path, callback) { callback(enosys()); },\n\t\t\trename(from, to, callback) { callback(enosys()); },\n\t\t\trmdir(path, callback) { callback(enosys()); },\n\t\t\tstat(path, callback) { callback(enosys()); },\n\t\t\tsymlink(path, link, callback) { callback(enosys()); },\n\t\t\ttruncate(path, length, callback) { callback(enosys()); },\n\t\t\tunlink(path, callback) { callback(enosys()); },\n\t\t\tutimes(path, atime, mtime, callback) { callback(enosys()); },\n\t\t};\n\t}\n\n\tif (!global.process) {\n\t\tglobal.process = {\n\t\t\tgetuid() { return -1; },\n\t\t\tgetgid() { return -1; },\n\t\t\tgeteuid() { return -1; },\n\t\t\tgetegid() { return -1; },\n\t\t\tgetgroups() { throw enosys(); },\n\t\t\tpid: -1,\n\t\t\tppid: -1,\n\t\t\tumask() { throw enosys(); },\n\t\t\tcwd() { throw enosys(); },\n\t\t\tchdir() { throw enosys(); },\n\t\t}\n\t}\n\n\tif (!global.crypto && global.require) {\n\t\tconst nodeCrypto = require(\"crypto\");\n\t\tglobal.crypto = {\n\t\t\tgetRandomValues(b) {\n\t\t\t\tnodeCrypto.randomFillSync(b);\n\t\t\t},\n\t\t};\n\t}\n\tif (!global.crypto) {\n\t\tthrow new Error(\"global.crypto is not available, polyfill required (getRandomValues only)\");\n\t}\n\n\tif (!global.performance) {\n\t\tglobal.performance = {\n\t\t\tnow() {\n\t\t\t\tconst [sec, nsec] = process.hrtime();\n\t\t\t\treturn sec * 1000 + nsec / 1000000;\n\t\t\t},\n\t\t};\n\t}\n\n\tif (!global.TextEncoder && global.require) {\n\t\tglobal.TextEncoder = require(\"util\").TextEncoder;\n\t}\n\tif (!global.TextEncoder) {\n\t\tthrow new Error(\"global.TextEncoder is not available, polyfill required\");\n\t}\n\n\tif (!global.TextDecoder && global.require) {\n\t\tglobal.TextDecoder = require(\"util\").TextDecoder;\n\t}\n\tif (!global.TextDecoder) {\n\t\tthrow new Error(\"global.TextDecoder is not available, polyfill required\");\n\t}\n\n\t// End of polyfills for common API.\n\n\tconst encoder = new TextEncoder(\"utf-8\");\n\tconst decoder = new TextDecoder(\"utf-8\");\n\n\tglobal.Go = class {\n\t\tconstructor() {\n\t\t\tthis.argv = [\"js\"];\n\t\t\tthis.env = {};\n\t\t\tthis.exit = (code) => {\n\t\t\t\tif (code !== 0) {\n\t\t\t\t\tconsole.warn(\"exit code:\", code);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._exitPromise = new Promise((resolve) => {\n\t\t\t\tthis._resolveExitPromise = resolve;\n\t\t\t});\n\t\t\tthis._pendingEvent = null;\n\t\t\tthis._scheduledTimeouts = new Map();\n\t\t\tthis._nextCallbackTimeoutID = 1;\n\n\t\t\tconst setInt64 = (addr, v) => {\n\t\t\t\tthis.mem.setUint32(addr + 0, v, true);\n\t\t\t\tthis.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\n\t\t\t}\n\n\t\t\tconst getInt64 = (addr) => {\n\t\t\t\tconst low = this.mem.getUint32(addr + 0, true);\n\t\t\t\tconst high = this.mem.getInt32(addr + 4, true);\n\t\t\t\treturn low + high * 4294967296;\n\t\t\t}\n\n\t\t\tconst loadValue = (addr) => {\n\t\t\t\tconst f = this.mem.getFloat64(addr, true);\n\t\t\t\tif (f === 0) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tif (!isNaN(f)) {\n\t\t\t\t\treturn f;\n\t\t\t\t}\n\n\t\t\t\tconst id = this.mem.getUint32(addr, true);\n\t\t\t\treturn this._values[id];\n\t\t\t}\n\n\t\t\tconst storeValue = (addr, v) => {\n\t\t\t\tconst nanHead = 0x7FF80000;\n\n\t\t\t\tif (typeof v === \"number\" && v !== 0) {\n\t\t\t\t\tif (isNaN(v)) {\n\t\t\t\t\t\tthis.mem.setUint32(addr + 4, nanHead, true);\n\t\t\t\t\t\tthis.mem.setUint32(addr, 0, true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.mem.setFloat64(addr, v, true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (v === undefined) {\n\t\t\t\t\tthis.mem.setFloat64(addr, 0, true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet id = this._ids.get(v);\n\t\t\t\tif (id === undefined) {\n\t\t\t\t\tid = this._idPool.pop();\n\t\t\t\t\tif (id === undefined) {\n\t\t\t\t\t\tid = this._values.length;\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[id] = v;\n\t\t\t\t\tthis._goRefCounts[id] = 0;\n\t\t\t\t\tthis._ids.set(v, id);\n\t\t\t\t}\n\t\t\t\tthis._goRefCounts[id]++;\n\t\t\t\tlet typeFlag = 0;\n\t\t\t\tswitch (typeof v) {\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif (v !== null) {\n\t\t\t\t\t\t\ttypeFlag = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\ttypeFlag = 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"symbol\":\n\t\t\t\t\t\ttypeFlag = 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\ttypeFlag = 4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.mem.setUint32(addr + 4, nanHead | typeFlag, true);\n\t\t\t\tthis.mem.setUint32(addr, id, true);\n\t\t\t}\n\n\t\t\tconst loadSlice = (addr) => {\n\t\t\t\tconst array = getInt64(addr + 0);\n\t\t\t\tconst len = getInt64(addr + 8);\n\t\t\t\treturn new Uint8Array(this._inst.exports.mem.buffer, array, len);\n\t\t\t}\n\n\t\t\tconst loadSliceOfValues = (addr) => {\n\t\t\t\tconst array = getInt64(addr + 0);\n\t\t\t\tconst len = getInt64(addr + 8);\n\t\t\t\tconst a = new Array(len);\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\ta[i] = loadValue(array + i * 8);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t}\n\n\t\t\tconst loadString = (addr) => {\n\t\t\t\tconst saddr = getInt64(addr + 0);\n\t\t\t\tconst len = getInt64(addr + 8);\n\t\t\t\treturn decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\n\t\t\t}\n\n\t\t\tconst timeOrigin = Date.now() - performance.now();\n\t\t\tthis.importObject = {\n\t\t\t\tgo: {\n\t\t\t\t\t// Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\n\t\t\t\t\t// may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\n\t\t\t\t\t// function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\n\t\t\t\t\t// This changes the SP, thus we have to update the SP used by the imported function.\n\n\t\t\t\t\t// func wasmExit(code int32)\n\t\t\t\t\t\"runtime.wasmExit\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst code = this.mem.getInt32(sp + 8, true);\n\t\t\t\t\t\tthis.exited = true;\n\t\t\t\t\t\tdelete this._inst;\n\t\t\t\t\t\tdelete this._values;\n\t\t\t\t\t\tdelete this._goRefCounts;\n\t\t\t\t\t\tdelete this._ids;\n\t\t\t\t\t\tdelete this._idPool;\n\t\t\t\t\t\tthis.exit(code);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\n\t\t\t\t\t\"runtime.wasmWrite\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst fd = getInt64(sp + 8);\n\t\t\t\t\t\tconst p = getInt64(sp + 16);\n\t\t\t\t\t\tconst n = this.mem.getInt32(sp + 24, true);\n\t\t\t\t\t\tfs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func resetMemoryDataView()\n\t\t\t\t\t\"runtime.resetMemoryDataView\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tthis.mem = new DataView(this._inst.exports.mem.buffer);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func nanotime1() int64\n\t\t\t\t\t\"runtime.nanotime1\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tsetInt64(sp + 8, (timeOrigin + performance.now()) * 1000000);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func walltime() (sec int64, nsec int32)\n\t\t\t\t\t\"runtime.walltime\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst msec = (new Date).getTime();\n\t\t\t\t\t\tsetInt64(sp + 8, msec / 1000);\n\t\t\t\t\t\tthis.mem.setInt32(sp + 16, (msec % 1000) * 1000000, true);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func scheduleTimeoutEvent(delay int64) int32\n\t\t\t\t\t\"runtime.scheduleTimeoutEvent\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst id = this._nextCallbackTimeoutID;\n\t\t\t\t\t\tthis._nextCallbackTimeoutID++;\n\t\t\t\t\t\tthis._scheduledTimeouts.set(id, setTimeout(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis._resume();\n\t\t\t\t\t\t\t\twhile (this._scheduledTimeouts.has(id)) {\n\t\t\t\t\t\t\t\t\t// for some reason Go failed to register the timeout event, log and try again\n\t\t\t\t\t\t\t\t\t// (temporary workaround for https://github.com/golang/go/issues/28975)\n\t\t\t\t\t\t\t\t\tconsole.warn(\"scheduleTimeoutEvent: missed timeout event\");\n\t\t\t\t\t\t\t\t\tthis._resume();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetInt64(sp + 8) + 1, // setTimeout has been seen to fire up to 1 millisecond early\n\t\t\t\t\t\t));\n\t\t\t\t\t\tthis.mem.setInt32(sp + 16, id, true);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func clearTimeoutEvent(id int32)\n\t\t\t\t\t\"runtime.clearTimeoutEvent\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst id = this.mem.getInt32(sp + 8, true);\n\t\t\t\t\t\tclearTimeout(this._scheduledTimeouts.get(id));\n\t\t\t\t\t\tthis._scheduledTimeouts.delete(id);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func getRandomData(r []byte)\n\t\t\t\t\t\"runtime.getRandomData\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tcrypto.getRandomValues(loadSlice(sp + 8));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func finalizeRef(v ref)\n\t\t\t\t\t\"syscall/js.finalizeRef\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst id = this.mem.getUint32(sp + 8, true);\n\t\t\t\t\t\tthis._goRefCounts[id]--;\n\t\t\t\t\t\tif (this._goRefCounts[id] === 0) {\n\t\t\t\t\t\t\tconst v = this._values[id];\n\t\t\t\t\t\t\tthis._values[id] = null;\n\t\t\t\t\t\t\tthis._ids.delete(v);\n\t\t\t\t\t\t\tthis._idPool.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func stringVal(value string) ref\n\t\t\t\t\t\"syscall/js.stringVal\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tstoreValue(sp + 24, loadString(sp + 8));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueGet(v ref, p string) ref\n\t\t\t\t\t\"syscall/js.valueGet\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\n\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\tstoreValue(sp + 32, result);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueSet(v ref, p string, x ref)\n\t\t\t\t\t\"syscall/js.valueSet\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tReflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueDelete(v ref, p string)\n\t\t\t\t\t\"syscall/js.valueDelete\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tReflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueIndex(v ref, i int) ref\n\t\t\t\t\t\"syscall/js.valueIndex\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tstoreValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\n\t\t\t\t\t},\n\n\t\t\t\t\t// valueSetIndex(v ref, i int, x ref)\n\t\t\t\t\t\"syscall/js.valueSetIndex\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tReflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueCall(v ref, m string, args []ref) (ref, bool)\n\t\t\t\t\t\"syscall/js.valueCall\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst v = loadValue(sp + 8);\n\t\t\t\t\t\t\tconst m = Reflect.get(v, loadString(sp + 16));\n\t\t\t\t\t\t\tconst args = loadSliceOfValues(sp + 32);\n\t\t\t\t\t\t\tconst result = Reflect.apply(m, v, args);\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 56, result);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 64, 1);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 56, err);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 64, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueInvoke(v ref, args []ref) (ref, bool)\n\t\t\t\t\t\"syscall/js.valueInvoke\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst v = loadValue(sp + 8);\n\t\t\t\t\t\t\tconst args = loadSliceOfValues(sp + 16);\n\t\t\t\t\t\t\tconst result = Reflect.apply(v, undefined, args);\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, result);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, err);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueNew(v ref, args []ref) (ref, bool)\n\t\t\t\t\t\"syscall/js.valueNew\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst v = loadValue(sp + 8);\n\t\t\t\t\t\t\tconst args = loadSliceOfValues(sp + 16);\n\t\t\t\t\t\t\tconst result = Reflect.construct(v, args);\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, result);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, err);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueLength(v ref) int\n\t\t\t\t\t\"syscall/js.valueLength\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tsetInt64(sp + 16, parseInt(loadValue(sp + 8).length));\n\t\t\t\t\t},\n\n\t\t\t\t\t// valuePrepareString(v ref) (ref, int)\n\t\t\t\t\t\"syscall/js.valuePrepareString\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst str = encoder.encode(String(loadValue(sp + 8)));\n\t\t\t\t\t\tstoreValue(sp + 16, str);\n\t\t\t\t\t\tsetInt64(sp + 24, str.length);\n\t\t\t\t\t},\n\n\t\t\t\t\t// valueLoadString(v ref, b []byte)\n\t\t\t\t\t\"syscall/js.valueLoadString\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst str = loadValue(sp + 8);\n\t\t\t\t\t\tloadSlice(sp + 16).set(str);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueInstanceOf(v ref, t ref) bool\n\t\t\t\t\t\"syscall/js.valueInstanceOf\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tthis.mem.setUint8(sp + 24, (loadValue(sp + 8) instanceof loadValue(sp + 16)) ? 1 : 0);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func copyBytesToGo(dst []byte, src ref) (int, bool)\n\t\t\t\t\t\"syscall/js.copyBytesToGo\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst dst = loadSlice(sp + 8);\n\t\t\t\t\t\tconst src = loadValue(sp + 32);\n\t\t\t\t\t\tif (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst toCopy = src.subarray(0, dst.length);\n\t\t\t\t\t\tdst.set(toCopy);\n\t\t\t\t\t\tsetInt64(sp + 40, toCopy.length);\n\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func copyBytesToJS(dst ref, src []byte) (int, bool)\n\t\t\t\t\t\"syscall/js.copyBytesToJS\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst dst = loadValue(sp + 8);\n\t\t\t\t\t\tconst src = loadSlice(sp + 16);\n\t\t\t\t\t\tif (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst toCopy = src.subarray(0, dst.length);\n\t\t\t\t\t\tdst.set(toCopy);\n\t\t\t\t\t\tsetInt64(sp + 40, toCopy.length);\n\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t},\n\n\t\t\t\t\t\"debug\": (value) => {\n\t\t\t\t\t\tconsole.log(value);\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tasync run(instance) {\n\t\t\tif (!(instance instanceof WebAssembly.Instance)) {\n\t\t\t\tthrow new Error(\"Go.run: WebAssembly.Instance expected\");\n\t\t\t}\n\t\t\tthis._inst = instance;\n\t\t\tthis.mem = new DataView(this._inst.exports.mem.buffer);\n\t\t\tthis._values = [ // JS values that Go currently has references to, indexed by reference id\n\t\t\t\tNaN,\n\t\t\t\t0,\n\t\t\t\tnull,\n\t\t\t\ttrue,\n\t\t\t\tfalse,\n\t\t\t\tglobal,\n\t\t\t\tthis,\n\t\t\t];\n\t\t\tthis._goRefCounts = new Array(this._values.length).fill(Infinity); // number of references that Go has to a JS value, indexed by reference id\n\t\t\tthis._ids = new Map([ // mapping from JS values to reference ids\n\t\t\t\t[0, 1],\n\t\t\t\t[null, 2],\n\t\t\t\t[true, 3],\n\t\t\t\t[false, 4],\n\t\t\t\t[global, 5],\n\t\t\t\t[this, 6],\n\t\t\t]);\n\t\t\tthis._idPool = [];   // unused ids that have been garbage collected\n\t\t\tthis.exited = false; // whether the Go program has exited\n\n\t\t\t// Pass command line arguments and environment variables to WebAssembly by writing them to the linear memory.\n\t\t\tlet offset = 4096;\n\n\t\t\tconst strPtr = (str) => {\n\t\t\t\tconst ptr = offset;\n\t\t\t\tconst bytes = encoder.encode(str + \"\\\\0\");\n\t\t\t\tnew Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\n\t\t\t\toffset += bytes.length;\n\t\t\t\tif (offset % 8 !== 0) {\n\t\t\t\t\toffset += 8 - (offset % 8);\n\t\t\t\t}\n\t\t\t\treturn ptr;\n\t\t\t};\n\n\t\t\tconst argc = this.argv.length;\n\n\t\t\tconst argvPtrs = [];\n\t\t\tthis.argv.forEach((arg) => {\n\t\t\t\targvPtrs.push(strPtr(arg));\n\t\t\t});\n\t\t\targvPtrs.push(0);\n\n\t\t\tconst keys = Object.keys(this.env).sort();\n\t\t\tkeys.forEach((key) => {\n\t\t\t\targvPtrs.push(strPtr(\\`\\${key}=\\${this.env[key]}\\`));\n\t\t\t});\n\t\t\targvPtrs.push(0);\n\n\t\t\tconst argv = offset;\n\t\t\targvPtrs.forEach((ptr) => {\n\t\t\t\tthis.mem.setUint32(offset, ptr, true);\n\t\t\t\tthis.mem.setUint32(offset + 4, 0, true);\n\t\t\t\toffset += 8;\n\t\t\t});\n\n\t\t\t// The linker guarantees global data starts from at least wasmMinDataAddr.\n\t\t\t// Keep in sync with cmd/link/internal/ld/data.go:wasmMinDataAddr.\n\t\t\tconst wasmMinDataAddr = 4096 + 4096;\n\t\t\tif (offset >= wasmMinDataAddr) {\n\t\t\t\tthrow new Error(\"command line too long\");\n\t\t\t}\n\n\t\t\tthis._inst.exports.run(argc, argv);\n\t\t\tif (this.exited) {\n\t\t\t\tthis._resolveExitPromise();\n\t\t\t}\n\t\t\tawait this._exitPromise;\n\t\t}\n\n\t\t_resume() {\n\t\t\tif (this.exited) {\n\t\t\t\tthrow new Error(\"Go program has already exited\");\n\t\t\t}\n\t\t\tthis._inst.exports.resume();\n\t\t\tif (this.exited) {\n\t\t\t\tthis._resolveExitPromise();\n\t\t\t}\n\t\t}\n\n\t\t_makeFuncWrapper(id) {\n\t\t\tconst go = this;\n\t\t\treturn function () {\n\t\t\t\tconst event = { id: id, this: this, args: arguments };\n\t\t\t\tgo._pendingEvent = event;\n\t\t\t\tgo._resume();\n\t\t\t\treturn event.result;\n\t\t\t};\n\t\t}\n\t}\n\n\tif (\n\t\ttypeof module !== \"undefined\" &&\n\t\tglobal.require &&\n\t\tglobal.require.main === module &&\n\t\tglobal.process &&\n\t\tglobal.process.versions &&\n\t\t!global.process.versions.electron\n\t) {\n\t\tif (process.argv.length < 3) {\n\t\t\tconsole.error(\"usage: go_js_wasm_exec [wasm binary] [arguments]\");\n\t\t\tprocess.exit(1);\n\t\t}\n\n\t\tconst go = new Go();\n\t\tgo.argv = process.argv.slice(2);\n\t\tgo.env = Object.assign({ TMPDIR: require(\"os\").tmpdir() }, process.env);\n\t\tgo.exit = process.exit;\n\t\tWebAssembly.instantiate(fs.readFileSync(process.argv[2]), go.importObject).then((result) => {\n\t\t\tprocess.on(\"exit\", (code) => { // Node.js exits if no event handler is pending\n\t\t\t\tif (code === 0 && !go.exited) {\n\t\t\t\t\t// deadlock, make Go print error and stack traces\n\t\t\t\t\tgo._pendingEvent = { id: 0 };\n\t\t\t\t\tgo._resume();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn go.run(result.instance);\n\t\t}).catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\tprocess.exit(1);\n\t\t});\n\t}\n})();\nonmessage = ({ data: wasm }) => {\n  let decoder = new TextDecoder();\n  let fs = global.fs;\n  let stderr = \"\";\n  fs.writeSync = (fd, buffer) => {\n    if (fd === 1) {\n      postMessage(buffer);\n    } else if (fd === 2) {\n      stderr += decoder.decode(buffer);\n      let parts = stderr.split(\"\\\\n\");\n      if (parts.length > 1)\n        console.log(parts.slice(0, -1).join(\"\\\\n\"));\n      stderr = parts[parts.length - 1];\n    } else {\n      throw new Error(\"Bad write\");\n    }\n    return buffer.length;\n  };\n  let stdin = [];\n  let resumeStdin;\n  let stdinPos = 0;\n  onmessage = ({ data }) => {\n    if (data.length > 0) {\n      stdin.push(data);\n      if (resumeStdin)\n        resumeStdin();\n    }\n  };\n  fs.read = (fd, buffer, offset, length, position, callback) => {\n    if (fd !== 0 || offset !== 0 || length !== buffer.length || position !== null) {\n      throw new Error(\"Bad read\");\n    }\n    if (stdin.length === 0) {\n      resumeStdin = () => fs.read(fd, buffer, offset, length, position, callback);\n      return;\n    }\n    let first = stdin[0];\n    let count = Math.max(0, Math.min(length, first.length - stdinPos));\n    buffer.set(first.subarray(stdinPos, stdinPos + count), offset);\n    stdinPos += count;\n    if (stdinPos === first.length) {\n      stdin.shift();\n      stdinPos = 0;\n    }\n    callback(null, count);\n  };\n  let go = new global.Go();\n  go.argv = [\"\", \\`--service=\\${\"0.13.13\"}\\`];\n  WebAssembly.instantiate(wasm, go.importObject).then(({ instance }) => go.run(instance));\n};}`;\n  let worker;\n  if (useWorker) {\n    let blob = new Blob([code], { type: \"text/javascript\" });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    let fn = new Function(\"postMessage\", code + `var onmessage; return m => onmessage(m)`);\n    let onmessage = fn((data) => worker.onmessage({ data }));\n    worker = {\n      onmessage: null,\n      postMessage: (data) => onmessage({ data }),\n      terminate() {\n      }\n    };\n  }\n  worker.postMessage(wasm);\n  worker.onmessage = ({ data }) => readFromStdout(data);\n  let { readFromStdout, service } = createChannel({\n    writeToStdin(bytes) {\n      worker.postMessage(bytes);\n    },\n    isSync: false,\n    isBrowser: true\n  });\n  longLivedService = {\n    build: (options) => new Promise((resolve, reject) => service.buildOrServe({\n      callName: \"build\",\n      refs: null,\n      serveOptions: null,\n      options,\n      isTTY: false,\n      defaultWD: \"/\",\n      callback: (err, res2) => err ? reject(err) : resolve(res2)\n    })),\n    transform: (input, options) => new Promise((resolve, reject) => service.transform({\n      callName: \"transform\",\n      refs: null,\n      input,\n      options: options || {},\n      isTTY: false,\n      fs: {\n        readFile(_, callback) {\n          callback(new Error(\"Internal error\"), null);\n        },\n        writeFile(_, callback) {\n          callback(null);\n        }\n      },\n      callback: (err, res2) => err ? reject(err) : resolve(res2)\n    })),\n    formatMessages: (messages, options) => new Promise((resolve, reject) => service.formatMessages({\n      callName: \"formatMessages\",\n      refs: null,\n      messages,\n      options,\n      callback: (err, res2) => err ? reject(err) : resolve(res2)\n    })),\n    analyzeMetafile: (metafile, options) => new Promise((resolve, reject) => service.analyzeMetafile({\n      callName: \"analyzeMetafile\",\n      refs: null,\n      metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\n      options,\n      callback: (err, res2) => err ? reject(err) : resolve(res2)\n    }))\n  };\n});\n})(typeof exports===\"object\"?exports:(typeof self!==\"undefined\"?self:this).esbuild={});\n"]},"metadata":{},"sourceType":"script"}