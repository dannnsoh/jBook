{"ast":null,"code":"import _objectSpread from\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Ryzen/Desktop/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./resizable.css\";import{useState,useEffect}from\"react\";import{ResizableBox}from\"react-resizable\";import{jsx as _jsx}from\"react/jsx-runtime\";var Resizable=function Resizable(_ref){var direction=_ref.direction,children=_ref.children;var _useState=useState(window.innerWidth),_useState2=_slicedToArray(_useState,2),innerWidth=_useState2[0],setInnerWidth=_useState2[1];var _useState3=useState(window.innerHeight),_useState4=_slicedToArray(_useState3,2),innerHeight=_useState4[0],setInnerHeight=_useState4[1];var _useState5=useState(window.innerWidth*0.75),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];var resizableAttr;useEffect(function(){// debounce\nvar timer;var listener=function listener(){if(timer){clearTimeout(timer);}timer=setTimeout(function(){// update states with current window width and height\nsetInnerWidth(window.innerWidth);setInnerHeight(window.innerHeight);if(window.innerWidth*0.75<width){setWidth(window.innerWidth*0.75);}},100);};window.addEventListener(\"resize\",listener);// cleanup\nreturn function(){window.removeEventListener(\"resize\",listener);};},[width]);if(direction===\"horizontal\"){resizableAttr={className:\"resize-horizontal\",width:width,height:Infinity,resizeHandles:[\"e\"],maxConstraints:[innerWidth*0.75,Infinity],minConstraints:[innerWidth*0.2,Infinity],onResizeStop:function onResizeStop(event,data){setWidth(data.size.width);}};}else{resizableAttr={width:Infinity,height:400,resizeHandles:[\"s\"],maxConstraints:[Infinity,innerHeight*0.9],minConstraints:[Infinity,100]};}return/*#__PURE__*/_jsx(ResizableBox,_objectSpread(_objectSpread({},resizableAttr),{},{children:children}));};export default Resizable;","map":{"version":3,"sources":["C:/Users/Ryzen/Desktop/jbook/packages/local-client/src/components/resizable.tsx"],"names":["useState","useEffect","ResizableBox","Resizable","direction","children","window","innerWidth","setInnerWidth","innerHeight","setInnerHeight","width","setWidth","resizableAttr","timer","listener","clearTimeout","setTimeout","addEventListener","removeEventListener","className","height","Infinity","resizeHandles","maxConstraints","minConstraints","onResizeStop","event","data","size"],"mappings":"iVAAA,MAAO,iBAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,YAAT,KAAgD,iBAAhD,C,2CAOA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA6C,IAA1CC,CAAAA,SAA0C,MAA1CA,SAA0C,CAA/BC,QAA+B,MAA/BA,QAA+B,CAC9D,cAAsCL,QAAQ,CAACM,MAAM,CAACC,UAAR,CAA9C,wCAAQA,UAAR,eAAoBC,aAApB,eACA,eAAwCR,QAAQ,CAACM,MAAM,CAACG,WAAR,CAAhD,yCAAQA,WAAR,eAAqBC,cAArB,eACA,eAA4BV,QAAQ,CAACM,MAAM,CAACC,UAAP,CAAoB,IAArB,CAApC,yCAAQI,KAAR,eAAeC,QAAf,eACA,GAAIC,CAAAA,aAAJ,CAEAZ,SAAS,CACR,UAAM,CACL;AACA,GAAIa,CAAAA,KAAJ,CACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACtB,GAAID,KAAJ,CAAW,CACVE,YAAY,CAACF,KAAD,CAAZ,CACA,CACDA,KAAK,CAAGG,UAAU,CAAC,UAAM,CACxB;AACAT,aAAa,CAACF,MAAM,CAACC,UAAR,CAAb,CACAG,cAAc,CAACJ,MAAM,CAACG,WAAR,CAAd,CACA,GAAIH,MAAM,CAACC,UAAP,CAAoB,IAApB,CAA2BI,KAA/B,CAAsC,CACrCC,QAAQ,CAACN,MAAM,CAACC,UAAP,CAAoB,IAArB,CAAR,CACA,CACD,CAPiB,CAOf,GAPe,CAAlB,CAQA,CAZD,CAaAD,MAAM,CAACY,gBAAP,CAAwB,QAAxB,CAAkCH,QAAlC,EACA;AACA,MAAO,WAAM,CACZT,MAAM,CAACa,mBAAP,CAA2B,QAA3B,CAAqCJ,QAArC,EACA,CAFD,CAGA,CAtBO,CAuBR,CAAEJ,KAAF,CAvBQ,CAAT,CA0BA,GAAIP,SAAS,GAAK,YAAlB,CAAgC,CAC/BS,aAAa,CAAG,CACfO,SAAS,CAAE,mBADI,CAEfT,KAAK,CAALA,KAFe,CAGfU,MAAM,CAAEC,QAHO,CAIfC,aAAa,CAAE,CAAE,GAAF,CAJA,CAKfC,cAAc,CAAE,CAAEjB,UAAU,CAAG,IAAf,CAAqBe,QAArB,CALD,CAMfG,cAAc,CAAE,CAAElB,UAAU,CAAG,GAAf,CAAoBe,QAApB,CAND,CAOfI,YAAY,CACX,sBAACC,KAAD,CAAQC,IAAR,CAAiB,CAChBhB,QAAQ,CAACgB,IAAI,CAACC,IAAL,CAAUlB,KAAX,CAAR,CACA,CAVa,CAAhB,CAYA,CAbD,IAaO,CACNE,aAAa,CAAG,CACfF,KAAK,CAAEW,QADQ,CAEfD,MAAM,CAAE,GAFO,CAGfE,aAAa,CAAE,CAAE,GAAF,CAHA,CAIfC,cAAc,CAAE,CAAEF,QAAF,CAAYb,WAAW,CAAG,GAA1B,CAJD,CAKfgB,cAAc,CAAE,CAAEH,QAAF,CAAY,GAAZ,CALD,CAAhB,CAOA,CACD,mBAAO,KAAC,YAAD,gCAAkBT,aAAlB,eAAkCR,QAAlC,GAAP,CACA,CAvDD,CAyDA,cAAeF,CAAAA,SAAf","sourcesContent":["import \"./resizable.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { ResizableBox, ResizableBoxProps } from \"react-resizable\";\r\n\r\ninterface ResizableProps {\r\n\tdirection: \"horizontal\" | \"vertical\";\r\n\tchildren: React.ReactNode;\r\n}\r\n\r\nconst Resizable = ({ direction, children }: ResizableProps) => {\r\n\tconst [ innerWidth, setInnerWidth ] = useState(window.innerWidth);\r\n\tconst [ innerHeight, setInnerHeight ] = useState(window.innerHeight);\r\n\tconst [ width, setWidth ] = useState(window.innerWidth * 0.75);\r\n\tlet resizableAttr: ResizableBoxProps;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\t// debounce\r\n\t\t\tlet timer: any;\r\n\t\t\tconst listener = () => {\r\n\t\t\t\tif (timer) {\r\n\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t}\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\t// update states with current window width and height\r\n\t\t\t\t\tsetInnerWidth(window.innerWidth);\r\n\t\t\t\t\tsetInnerHeight(window.innerHeight);\r\n\t\t\t\t\tif (window.innerWidth * 0.75 < width) {\r\n\t\t\t\t\t\tsetWidth(window.innerWidth * 0.75);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t};\r\n\t\t\twindow.addEventListener(\"resize\", listener);\r\n\t\t\t// cleanup\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener(\"resize\", listener);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ width ]\r\n\t);\r\n\r\n\tif (direction === \"horizontal\") {\r\n\t\tresizableAttr = {\r\n\t\t\tclassName: \"resize-horizontal\",\r\n\t\t\twidth,\r\n\t\t\theight: Infinity,\r\n\t\t\tresizeHandles: [ \"e\" ],\r\n\t\t\tmaxConstraints: [ innerWidth * 0.75, Infinity ],\r\n\t\t\tminConstraints: [ innerWidth * 0.2, Infinity ],\r\n\t\t\tonResizeStop:\r\n\t\t\t\t(event, data) => {\r\n\t\t\t\t\tsetWidth(data.size.width);\r\n\t\t\t\t}\r\n\t\t};\r\n\t} else {\r\n\t\tresizableAttr = {\r\n\t\t\twidth: Infinity,\r\n\t\t\theight: 400,\r\n\t\t\tresizeHandles: [ \"s\" ],\r\n\t\t\tmaxConstraints: [ Infinity, innerHeight * 0.9 ],\r\n\t\t\tminConstraints: [ Infinity, 100 ]\r\n\t\t};\r\n\t}\r\n\treturn <ResizableBox {...resizableAttr}>{children}</ResizableBox>;\r\n};\r\n\r\nexport default Resizable;\r\n"]},"metadata":{},"sourceType":"module"}